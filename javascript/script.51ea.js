function getQueryStringParams(){return new URLSearchParams(window.location.search)}function isDebug(){return getQueryStringParams().has("debug")}function log(label,contents){isDebug()&&(console.log(label+":"),console.log(contents))}function trim(text){return text.replace(/^\s+|\s+$/g,"")}function generateTeaser(str,maxLength){if(str.length>maxLength){for(str=str.substr(0,maxLength),str=str.substr(0,Math.min(str.length,str.lastIndexOf(" ")));!str[str.length-1].match(/[a-zA-Z0-9]/);)str=str.slice(0,-1);str+="..."}return str}function safeRead(str){return"undefined"===str||""===str||null==str?invalidValueStr:trim(str)}function extractTemplateHtml(selector){var template=$(selector).html();return $(selector).html(""),template=template.replace(/<\!\-\-/g,""),template=template.replace(/\-\-\>/g,"")}function toDateObject(dateStr,timeStr){return new Date(dateStr+"T"+timeStr)}function formatDate(dateStr,timeStr){var date=toDateObject(dateStr,timeStr);return date.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}function d(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function j(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function M(e){return e}function I(e){throw e}function W(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}function X(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(U,X)}function Y(){this.expando=k.expando+Y.uid++}function ee(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:K.test(i)?JSON.parse(i):i)}catch(e){}J.set(e,t,n)}else n=void 0;return n}function le(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=e.nodeType&&(k.cssNumber[t]||"px"!==l&&+u)&&ne.exec(k.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function fe(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;f>c;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Q.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&se(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ce[s])||(o=a.body.appendChild(a.createElement(s)),u=k.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ce[s]=u)))):"none"!==n&&(l[c]="none",Q.set(r,"display",n)));for(c=0;f>c;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;r>n;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}function we(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;h>d;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=oe(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n)for(c=0;o=a[c++];)he.test(o.type||"")&&n.push(o);return f}function ke(){return!0}function Se(){return!1}function Ne(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ae(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ae(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function De(e,i,o){o?(Q.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Q.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Q.set(this,i,r),t=o(this,i),this[i](),r!==(n=Q.get(this,i))||t?Q.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(Q.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,i)&&k.event.add(e,i,ke)}function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Me(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),a=Q.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;r>n;n++)k.event.add(t,i,l[i][n]);J.hasData(e)&&(s=J.access(e),u=k.extend({},s),J.set(t,u))}}function Ie(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||f>1&&"string"==typeof d&&!y.checkClone&&Le.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Ie(t,r,i,o)});if(f&&(t=(e=we(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(ve(e,"script"),Pe)).length;f>c;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Re),c=0;s>c;c++)u=a[c],he.test(u.type||"")&&!Q.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):b(u.textContent.replace(He,""),u,l))}return n}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&oe(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||oe(e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&$e.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ze(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Ge(e){var t=k.cssProps[e]||Ve[e];return t||(e in Xe?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ue.length;n--;)if((e=Ue[n]+t)in Xe)return e}(e)||e)}function Ze(e,t,n){var r=ne.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function et(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;4>a;a+=2)"margin"===n&&(u+=k.css(e,n+re[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+re[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+re[a]+"Width",!0,i))):(u+=k.css(e,"padding"+re[a],!0,i),"padding"!==n?u+=k.css(e,"border"+re[a]+"Width",!0,i):s+=k.css(e,"border"+re[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function tt(e,t,n){var r=Fe(e),i=(!y.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=_e(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+et(e,t,n||(i?"border":"content"),o,r,a)+"px"}function nt(e,t,n,r,i){return new nt.prototype.init(e,t,n,r,i)}function lt(){it&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(lt):C.setTimeout(lt,k.fx.interval),k.fx.tick())}function ct(){return C.setTimeout(function(){rt=void 0}),rt=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)i["margin"+(n=re[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(dt.tweeners[t]||[]).concat(dt.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function dt(o,e,t){var n,a,r=0,i=dt.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=rt||ct(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;i>r;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),1>n&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:rt||ct(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;n>t;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for((!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=V(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing));i>r;r++)if(n=dt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,pt,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}function mt(e){return(e.match(R)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(R)||[]}function qt(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Nt.test(n)?i(n,t):qt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)qt(n+"["+t+"]",e[t],r,i)}function Bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(R)||[];if(m(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function _t(t,i,o,a){function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}var s={},u=t===Wt;return l(i.dataTypes[0])||!s["*"]&&l("*")}function zt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,nonce:!0,noModule:!0},f="3.4.1",k=function(e,t){return new k.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.fn=k.prototype={jquery:f,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):0>e?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e)||(t=r(e))&&("function"!=typeof(n=v.call(t,"constructor")&&t.constructor)||a.call(n)!==l))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){b(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(d(e))for(n=e.length;n>r&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(d(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;o>i;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(d(e))for(r=e.length;r>o;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:m)!==C&&T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!A[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&U.test(t)){for((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=k),o=(l=h(t)).length;o--;)l[o]="#"+s+" "+xe(l[o]);c=l.join(","),f=ee.test(t)&&ye(e.parentNode)||e}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){A(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[k]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function me(){}function xe(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[k]&&(v=Ce(v)),y&&!y[k]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;i>r;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=Te(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];r>s;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;r>n&&!b.relative[e[n].type];n++);return Ce(s>1&&we(c),s>1&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,n>s&&Ee(e.slice(s,n)),r>n&&Ee(e=e.slice(n)),r>n&&xe(e))}c.push(t)}return we(c)}var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ue(),x=ue(),N=ue(),A=ue(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp($),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\x00"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(e in d=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&E?t.getElementsByClassName(e):void 0},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",$)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),d.matchesSelector&&E&&!A[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){A(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(D),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(F," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a!==e)););return(d-=v)===g||d%g==0&&d/g>=0}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?le(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[0>n?n+t:n]}),even:ve(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=0>n?n+t:n>t?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);
for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=N[e+" "];if(!a){for(t||(t=h(e)),n=t.length;n--;)(a=Ee(t[n]))[k]?i.push(a):o.push(a);(a=N(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument===C||(T(o),n=!E);s=v[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(u>0)for(;l--;)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(S=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=G.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=k.split("").sort(D).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains,k.escapeSelector=h.escape;var T=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext,D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;r>t;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;r>t;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),D.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,q=k(E);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return"undefined"!=typeof e.contentDocument?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(O[r]||k.uniqueSort(n),H.test(r)&&n.reverse()),this.pushStack(n)}});var R=/[^\x20\t\r\n\f]+/g;k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(R)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,s,n));)s.splice(n,1),l>=n&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(u>i)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,I,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,I,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),i+1>=u&&(a!==I&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}var u=0;return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:I))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(1>=n&&(W(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();for(;t--;)W(i[t],a(t),o.reject);return o.promise()}});var $=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&$.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var F=k.Deferred();k.fn.ready=function(e){return F.then(e)["catch"](function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||F.resolveWith(E,[k])}}),k.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var _=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)_(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(k(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},z=/^-ms-/,U=/-([a-z])/g,G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[V(t)]=n;else for(r in t)i[V(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in r?[t]:t.match(R)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Q=new Y,J=new Y,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;k.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=V(r.slice(5)),ee(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){J.set(this,n)}):_(this,function(e){var t;return o&&void 0===e?void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0:void this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,k.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:k.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Q.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ie=E.documentElement,oe=function(e){return k.contains(e.ownerDocument,e)},ae={composed:!0};ie.getRootNode&&(oe=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===k.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},ce={};k.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?k(this).show():k(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var me,xe,be=/<|&#?\w+;/;me=E.createDocumentFragment().appendChild(E.createElement("div")),(xe=E.createElement("input")).setAttribute("type","radio"),xe.setAttribute("checked","checked"),xe.setAttribute("name","t"),me.appendChild(xe),y.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var Te=/^key/,Ce=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(ie,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(R)||[""]).length;l--;)d=g=(s=Ee.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Q.hasData(e)&&Q.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(R)||[""]).length;l--;)if(d=g=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;u>n;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){return this.originalEvent?e(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click",ke),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Q.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){return this instanceof k.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0,void 0):new k.Event(e,t)},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ce.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return De(this,e,Ne),!1},trigger:function(){return De(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return Ae(this,e,t,n,r)},one:function(e,t,n,r){return Ae(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){k.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,qe=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;k.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;i>r;r++)s=o[r],u=a[r],"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;i>r;r++)Me(o[r],a[r]);else Me(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(G(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return _(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ie(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Ie(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ie(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return _(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!qe.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;r>n;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Ie(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;i>=o;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var $e=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Be=new RegExp(re.join("|"),"i");!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=12===t(u.offsetWidth/3),ie.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Ue=["Webkit","Moz","ms"],Xe=E.createElement("div").style,Ve={},Ye=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"};k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=V(t),u=Qe.test(t),l=e.style;if(u||(t=Ge(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ne.exec(n))&&i[1]&&(n=le(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=V(t);return Qe.test(t)||(t=Ge(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Ke&&(i=Ke[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,u){k.cssHooks[u]={get:function(e,t,n){return t?!Ye.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?tt(e,u,n):ue(e,Je,function(){return tt(e,u,n)}):void 0},set:function(e,t,n){var r,i=Fe(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?et(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-et(e,u,"border",!1,i)-.5)),s&&(r=ne.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=k.css(e,u)),Ze(0,t,s)}}}),k.cssHooks.marginLeft=ze(y.reliableMarginLeft,function(e,t){return t?(parseFloat(_e(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];4>t;t++)n[i+re[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ze)}),k.fn.extend({css:function(e,t){return _(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;i>a;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=nt).prototype={constructor:nt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=nt.propHooks[this.prop];return e&&e.get?e.get(this):nt.propHooks._default.get(this)},run:function(e){var t,n=nt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nt.propHooks._default.set(this),this}}).init.prototype=nt.prototype,(nt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=nt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=nt.prototype.init,k.fx.step={};var rt,it,ot,at,st=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;k.Animation=k.extend(dt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,ne.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(R);for(var n,r=0,i=e.length;i>r;r++)n=e[r],dt.tweeners[n]=dt.tweeners[n]||[],dt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],st.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Q.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=k.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Q.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&fe([e],!0),p.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=pt(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),
r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=dt(this,k.extend({},t),o);(i||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Q.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&ut.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Q.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ft(r,!0),e,t,n)}}),k.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(rt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),rt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){it||(it=!0,lt())},k.fx.stop=function(){it=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ot=E.createElement("input"),at=E.createElement("select").appendChild(E.createElement("option")),ot.type="checkbox",y.checkOn=""!==ot.value,y.optSelected=at.selected,(ot=E.createElement("input")).value="t",ot.type="radio",y.radioValue="t"===ot.value;var ht,gt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return _(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r):void 0},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(R);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=gt[t]||k.find.attr;gt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=gt[o],gt[o]=r,r=null!=a(e,t,n)?o:null,gt[o]=i),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;k.fn.extend({prop:function(e,t){return _(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)for(;n=this[u++];)if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;n=this[u++];)if(i=xt(n),r=1===n.nodeType&&" "+mt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=mt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=bt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=xt(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+mt(xt(n))+" ").indexOf(t))return!0;return!1}});var wt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:mt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=0>o?u:a?o:0;u>r;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){return Array.isArray(t)?e.checked=-1<k.inArray(k(e).val(),t):void 0}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var Tt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!Tt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,Tt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=i>1?s:c.bindType||d,(l=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&G(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!G(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,Ct),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,Ct),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?k.event.trigger(e,t,n,!0):void 0}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Q.access(e,r);t||e.addEventListener(n,i,!0),Q.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Q.access(e,r)-1;t?Q.access(e,r,t):(e.removeEventListener(n,i,!0),Q.remove(e,r))}}});var Et=C.location,kt=Date.now(),St=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Nt=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)qt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Lt=/%20/g,Ht=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Mt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Ft=E.createElement("a");Ft.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,k.ajaxSettings),t):zt(k.ajaxSettings,e)},ajaxPrefilter:Bt(It),ajaxTransport:Bt(Wt),ajax:function(e,t){function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",0>e&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Pt.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||Et.href)+"").replace(Mt,Et.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(R)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Ft.protocol+"//"+Ft.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),_t(It,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Rt.test(v.type),f=v.url.replace(Ht,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Lt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(St.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Ot,"$1"),o=(St.test(f)?"&":"?")+"_="+kt++ +o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+$t+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=_t(Wt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e,t){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Ut={0:200,1223:204},Xt=k.ajaxSettings.xhr();y.cors=!!Xt&&"withCredentials"in Xt,y.ajax=Xt=!!Xt,k.ajaxTransport(function(i){var o,a;return y.cors||Xt&&!i.crossDomain?{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Ut[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}:void 0}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;return n.crossDomain||n.scriptAttrs?{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}:void 0});var Vt,Gt=[],Yt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||k.expando+"_"+kt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),y.createHTMLDocument=((Vt=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=we([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=mt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||ie})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return _(this,function(e,t,n){var r;return x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ze(y.pixelPosition,function(e,t){return t?(t=_e(e,n),$e.test(t)?k(e).position()[n]+"px":t):void 0})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return _(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),m(e)?(r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i):void 0},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=x,k.camelCase=V,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Qt=C.jQuery,Jt=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Jt),e&&C.jQuery===k&&(C.jQuery=Qt),k},e||(C.jQuery=C.$=k),k}),function(global,factory){"function"==typeof define&&define.amd?define("zepto",function(){return factory(global)}):factory(global)}(window,function(window){var Zepto=function(){function type(obj){return null==obj?String(obj):class2type[toString.call(obj)]||"object"}function isFunction(value){return"function"==type(value)}function isWindow(obj){return null!=obj&&obj==obj.window}function isDocument(obj){return null!=obj&&obj.nodeType==obj.DOCUMENT_NODE}function isObject(obj){return"object"==type(obj)}function isPlainObject(obj){return isObject(obj)&&!isWindow(obj)&&Object.getPrototypeOf(obj)==Object.prototype}function likeArray(obj){var length=!!obj&&"length"in obj&&obj.length,type=$.type(obj);return"function"!=type&&!isWindow(obj)&&("array"==type||0===length||"number"==typeof length&&length>0&&length-1 in obj)}function compact(array){return filter.call(array,function(item){return null!=item})}function flatten(array){return array.length>0?$.fn.concat.apply([],array):array}function dasherize(str){return str.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function classRE(name){return name in classCache?classCache[name]:classCache[name]=new RegExp("(^|\\s)"+name+"(\\s|$)")}function maybeAddPx(name,value){return"number"!=typeof value||cssNumber[dasherize(name)]?value:value+"px"}function defaultDisplay(nodeName){var element,display;return elementDisplay[nodeName]||(element=document.createElement(nodeName),document.body.appendChild(element),display=getComputedStyle(element,"").getPropertyValue("display"),element.parentNode.removeChild(element),"none"==display&&(display="block"),elementDisplay[nodeName]=display),elementDisplay[nodeName]}function children(element){return"children"in element?slice.call(element.children):$.map(element.childNodes,function(node){return 1==node.nodeType?node:void 0})}function Z(dom,selector){var i,len=dom?dom.length:0;for(i=0;len>i;i++)this[i]=dom[i];this.length=len,this.selector=selector||""}function extend(target,source,deep){for(key in source)deep&&(isPlainObject(source[key])||isArray(source[key]))?(isPlainObject(source[key])&&!isPlainObject(target[key])&&(target[key]={}),isArray(source[key])&&!isArray(target[key])&&(target[key]=[]),extend(target[key],source[key],deep)):source[key]!==undefined&&(target[key]=source[key])}function filtered(nodes,selector){return null==selector?$(nodes):$(nodes).filter(selector)}function funcArg(context,arg,idx,payload){return isFunction(arg)?arg.call(context,idx,payload):arg}function setAttribute(node,name,value){null==value?node.removeAttribute(name):node.setAttribute(name,value)}function className(node,value){var klass=node.className||"",svg=klass&&klass.baseVal!==undefined;return value===undefined?svg?klass.baseVal:klass:void(svg?klass.baseVal=value:node.className=value)}function deserializeValue(value){try{return value?"true"==value||("false"==value?!1:"null"==value?null:+value+""==value?+value:/^[\[\{]/.test(value)?$.parseJSON(value):value):value}catch(e){return value}}function traverseNode(node,fun){fun(node);for(var i=0,len=node.childNodes.length;len>i;i++)traverseNode(node.childNodes[i],fun)}var undefined,key,$,classList,camelize,uniq,emptyArray=[],concat=emptyArray.concat,filter=emptyArray.filter,slice=emptyArray.slice,document=window.document,elementDisplay={},classCache={},cssNumber={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},fragmentRE=/^\s*<(\w+|!)[^>]*>/,singleTagRE=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,tagExpanderRE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rootNodeRE=/^(?:body|html)$/i,capitalRE=/([A-Z])/g,methodAttributes=["val","css","html","text","data","width","height","offset"],adjacencyOperators=["after","prepend","before","append"],table=document.createElement("table"),tableRow=document.createElement("tr"),containers={tr:document.createElement("tbody"),tbody:table,thead:table,tfoot:table,td:tableRow,th:tableRow,"*":document.createElement("div")},simpleSelectorRE=/^[\w-]*$/,class2type={},toString=class2type.toString,zepto={},tempParent=document.createElement("div"),propMap={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},isArray=Array.isArray||function(object){return object instanceof Array};return zepto.matches=function(element,selector){if(!selector||!element||1!==element.nodeType)return!1;var matchesSelector=element.matches||element.webkitMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector||element.matchesSelector;if(matchesSelector)return matchesSelector.call(element,selector);var match,parent=element.parentNode,temp=!parent;return temp&&(parent=tempParent).appendChild(element),match=~zepto.qsa(parent,selector).indexOf(element),temp&&tempParent.removeChild(element),match},camelize=function(str){return str.replace(/-+(.)?/g,function(match,chr){return chr?chr.toUpperCase():""})},uniq=function(array){return filter.call(array,function(item,idx){return array.indexOf(item)==idx})},zepto.fragment=function(html,name,properties){var dom,nodes,container;return singleTagRE.test(html)&&(dom=$(document.createElement(RegExp.$1))),dom||(html.replace&&(html=html.replace(tagExpanderRE,"<$1></$2>")),name===undefined&&(name=fragmentRE.test(html)&&RegExp.$1),name in containers||(name="*"),container=containers[name],container.innerHTML=""+html,dom=$.each(slice.call(container.childNodes),function(){container.removeChild(this)})),isPlainObject(properties)&&(nodes=$(dom),$.each(properties,function(key,value){methodAttributes.indexOf(key)>-1?nodes[key](value):nodes.attr(key,value)})),dom},zepto.Z=function(dom,selector){return new Z(dom,selector)},zepto.isZ=function(object){return object instanceof zepto.Z},zepto.init=function(selector,context){var dom;if(!selector)return zepto.Z();if("string"==typeof selector)if(selector=selector.trim(),"<"==selector[0]&&fragmentRE.test(selector))dom=zepto.fragment(selector,RegExp.$1,context),selector=null;else{if(context!==undefined)return $(context).find(selector);dom=zepto.qsa(document,selector)}else{if(isFunction(selector))return $(document).ready(selector);if(zepto.isZ(selector))return selector;if(isArray(selector))dom=compact(selector);else if(isObject(selector))dom=[selector],selector=null;else if(fragmentRE.test(selector))dom=zepto.fragment(selector.trim(),RegExp.$1,context),selector=null;else{if(context!==undefined)return $(context).find(selector);dom=zepto.qsa(document,selector)}}return zepto.Z(dom,selector)},$=function(selector,context){return zepto.init(selector,context)},$.extend=function(target){var deep,args=slice.call(arguments,1);return"boolean"==typeof target&&(deep=target,target=args.shift()),
args.forEach(function(arg){extend(target,arg,deep)}),target},zepto.qsa=function(element,selector){var found,maybeID="#"==selector[0],maybeClass=!maybeID&&"."==selector[0],nameOnly=maybeID||maybeClass?selector.slice(1):selector,isSimple=simpleSelectorRE.test(nameOnly);return element.getElementById&&isSimple&&maybeID?(found=element.getElementById(nameOnly))?[found]:[]:1!==element.nodeType&&9!==element.nodeType&&11!==element.nodeType?[]:slice.call(isSimple&&!maybeID&&element.getElementsByClassName?maybeClass?element.getElementsByClassName(nameOnly):element.getElementsByTagName(selector):element.querySelectorAll(selector))},$.contains=document.documentElement.contains?function(parent,node){return parent!==node&&parent.contains(node)}:function(parent,node){for(;node&&(node=node.parentNode);)if(node===parent)return!0;return!1},$.type=type,$.isFunction=isFunction,$.isWindow=isWindow,$.isArray=isArray,$.isPlainObject=isPlainObject,$.isEmptyObject=function(obj){var name;for(name in obj)return!1;return!0},$.isNumeric=function(val){var num=Number(val),type=typeof val;return null!=val&&"boolean"!=type&&("string"!=type||val.length)&&!isNaN(num)&&isFinite(num)||!1},$.inArray=function(elem,array,i){return emptyArray.indexOf.call(array,elem,i)},$.camelCase=camelize,$.trim=function(str){return null==str?"":String.prototype.trim.call(str)},$.uuid=0,$.support={},$.expr={},$.noop=function(){},$.map=function(elements,callback){var value,i,key,values=[];if(likeArray(elements))for(i=0;i<elements.length;i++)value=callback(elements[i],i),null!=value&&values.push(value);else for(key in elements)value=callback(elements[key],key),null!=value&&values.push(value);return flatten(values)},$.each=function(elements,callback){var i,key;if(likeArray(elements)){for(i=0;i<elements.length;i++)if(callback.call(elements[i],i,elements[i])===!1)return elements}else for(key in elements)if(callback.call(elements[key],key,elements[key])===!1)return elements;return elements},$.grep=function(elements,callback){return filter.call(elements,callback)},window.JSON&&($.parseJSON=JSON.parse),$.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),$.fn={constructor:zepto.Z,length:0,forEach:emptyArray.forEach,reduce:emptyArray.reduce,push:emptyArray.push,sort:emptyArray.sort,splice:emptyArray.splice,indexOf:emptyArray.indexOf,concat:function(){var i,value,args=[];for(i=0;i<arguments.length;i++)value=arguments[i],args[i]=zepto.isZ(value)?value.toArray():value;return concat.apply(zepto.isZ(this)?this.toArray():this,args)},map:function(fn){return $($.map(this,function(el,i){return fn.call(el,i,el)}))},slice:function(){return $(slice.apply(this,arguments))},ready:function(callback){if("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)setTimeout(function(){callback($)},0);else{var handler=function(){document.removeEventListener("DOMContentLoaded",handler,!1),window.removeEventListener("load",handler,!1),callback($)};document.addEventListener("DOMContentLoaded",handler,!1),window.addEventListener("load",handler,!1)}return this},get:function(idx){return idx===undefined?slice.call(this):this[idx>=0?idx:idx+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(callback){return emptyArray.every.call(this,function(el,idx){return callback.call(el,idx,el)!==!1}),this},filter:function(selector){return isFunction(selector)?this.not(this.not(selector)):$(filter.call(this,function(element){return zepto.matches(element,selector)}))},add:function(selector,context){return $(uniq(this.concat($(selector,context))))},is:function(selector){return"string"==typeof selector?this.length>0&&zepto.matches(this[0],selector):selector&&this.selector==selector.selector},not:function(selector){var nodes=[];if(isFunction(selector)&&selector.call!==undefined)this.each(function(idx){selector.call(this,idx)||nodes.push(this)});else{var excludes="string"==typeof selector?this.filter(selector):likeArray(selector)&&isFunction(selector.item)?slice.call(selector):$(selector);this.forEach(function(el){excludes.indexOf(el)<0&&nodes.push(el)})}return $(nodes)},has:function(selector){return this.filter(function(){return isObject(selector)?$.contains(this,selector):$(this).find(selector).size()})},eq:function(idx){return-1===idx?this.slice(idx):this.slice(idx,+idx+1)},first:function(){var el=this[0];return el&&!isObject(el)?el:$(el)},last:function(){var el=this[this.length-1];return el&&!isObject(el)?el:$(el)},find:function(selector){var result,$this=this;return result=selector?"object"==typeof selector?$(selector).filter(function(){var node=this;return emptyArray.some.call($this,function(parent){return $.contains(parent,node)})}):1==this.length?$(zepto.qsa(this[0],selector)):this.map(function(){return zepto.qsa(this,selector)}):$()},closest:function(selector,context){var nodes=[],collection="object"==typeof selector&&$(selector);return this.each(function(_,node){for(;node&&!(collection?collection.indexOf(node)>=0:zepto.matches(node,selector));)node=node!==context&&!isDocument(node)&&node.parentNode;node&&nodes.indexOf(node)<0&&nodes.push(node)}),$(nodes)},parents:function(selector){for(var ancestors=[],nodes=this;nodes.length>0;)nodes=$.map(nodes,function(node){return(node=node.parentNode)&&!isDocument(node)&&ancestors.indexOf(node)<0?(ancestors.push(node),node):void 0});return filtered(ancestors,selector)},parent:function(selector){return filtered(uniq(this.pluck("parentNode")),selector)},children:function(selector){return filtered(this.map(function(){return children(this)}),selector)},contents:function(){return this.map(function(){return this.contentDocument||slice.call(this.childNodes)})},siblings:function(selector){return filtered(this.map(function(i,el){return filter.call(children(el.parentNode),function(child){return child!==el})}),selector)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(property){return $.map(this,function(el){return el[property]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=defaultDisplay(this.nodeName))})},replaceWith:function(newContent){return this.before(newContent).remove()},wrap:function(structure){var func=isFunction(structure);if(this[0]&&!func)var dom=$(structure).get(0),clone=dom.parentNode||this.length>1;return this.each(function(index){$(this).wrapAll(func?structure.call(this,index):clone?dom.cloneNode(!0):dom)})},wrapAll:function(structure){if(this[0]){$(this[0]).before(structure=$(structure));for(var children;(children=structure.children()).length;)structure=children.first();$(structure).append(this)}return this},wrapInner:function(structure){var func=isFunction(structure);return this.each(function(index){var self=$(this),contents=self.contents(),dom=func?structure.call(this,index):structure;contents.length?contents.wrapAll(dom):self.append(dom)})},unwrap:function(){return this.parent().each(function(){$(this).replaceWith($(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(setting){return this.each(function(){var el=$(this);(setting===undefined?"none"==el.css("display"):setting)?el.show():el.hide()})},prev:function(selector){return $(this.pluck("previousElementSibling")).filter(selector||"*")},next:function(selector){return $(this.pluck("nextElementSibling")).filter(selector||"*")},html:function(html){return 0 in arguments?this.each(function(idx){var originHtml=this.innerHTML;$(this).empty().append(funcArg(this,html,idx,originHtml))}):0 in this?this[0].innerHTML:null},text:function(text){return 0 in arguments?this.each(function(idx){var newText=funcArg(this,text,idx,this.textContent);this.textContent=null==newText?"":""+newText}):0 in this?this.pluck("textContent").join(""):null},attr:function(name,value){var result;return"string"!=typeof name||1 in arguments?this.each(function(idx){if(1===this.nodeType)if(isObject(name))for(key in name)setAttribute(this,key,name[key]);else setAttribute(this,name,funcArg(this,value,idx,this.getAttribute(name)))}):0 in this&&1==this[0].nodeType&&null!=(result=this[0].getAttribute(name))?result:undefined},removeAttr:function(name){return this.each(function(){1===this.nodeType&&name.split(" ").forEach(function(attribute){setAttribute(this,attribute)},this)})},prop:function(name,value){return name=propMap[name]||name,"string"!=typeof name||1 in arguments?this.each(function(idx){if(isObject(name))for(key in name)this[propMap[key]||key]=name[key];else this[name]=funcArg(this,value,idx,this[name])}):this[0]&&this[0][name]},removeProp:function(name){return name=propMap[name]||name,this.each(function(){delete this[name]})},data:function(name,value){var attrName="data-"+name.replace(capitalRE,"-$1").toLowerCase(),data=1 in arguments?this.attr(attrName,value):this.attr(attrName);return null!==data?deserializeValue(data):undefined},val:function(value){return 0 in arguments?(null==value&&(value=""),this.each(function(idx){this.value=funcArg(this,value,idx,this.value)})):this[0]&&(this[0].multiple?$(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(coordinates){if(coordinates)return this.each(function(index){var $this=$(this),coords=funcArg(this,coordinates,index,$this.offset()),parentOffset=$this.offsetParent().offset(),props={top:coords.top-parentOffset.top,left:coords.left-parentOffset.left};"static"==$this.css("position")&&(props.position="relative"),$this.css(props)});if(!this.length)return null;if(document.documentElement!==this[0]&&!$.contains(document.documentElement,this[0]))return{top:0,left:0};var obj=this[0].getBoundingClientRect();return{left:obj.left+window.pageXOffset,top:obj.top+window.pageYOffset,width:Math.round(obj.width),height:Math.round(obj.height)}},css:function(property,value){if(arguments.length<2){var element=this[0];if("string"==typeof property){if(!element)return;return element.style[camelize(property)]||getComputedStyle(element,"").getPropertyValue(property)}if(isArray(property)){if(!element)return;var props={},computedStyle=getComputedStyle(element,"");return $.each(property,function(_,prop){props[prop]=element.style[camelize(prop)]||computedStyle.getPropertyValue(prop)}),props}}var css="";if("string"==type(property))value||0===value?css=dasherize(property)+":"+maybeAddPx(property,value):this.each(function(){this.style.removeProperty(dasherize(property))});else for(key in property)property[key]||0===property[key]?css+=dasherize(key)+":"+maybeAddPx(key,property[key])+";":this.each(function(){this.style.removeProperty(dasherize(key))});return this.each(function(){this.style.cssText+=";"+css})},index:function(element){return element?this.indexOf($(element)[0]):this.parent().children().indexOf(this[0])},hasClass:function(name){return name?emptyArray.some.call(this,function(el){return this.test(className(el))},classRE(name)):!1},addClass:function(name){return name?this.each(function(idx){if("className"in this){classList=[];var cls=className(this),newName=funcArg(this,name,idx,cls);newName.split(/\s+/g).forEach(function(klass){$(this).hasClass(klass)||classList.push(klass)},this),classList.length&&className(this,cls+(cls?" ":"")+classList.join(" "))}}):this},removeClass:function(name){return this.each(function(idx){if("className"in this){if(name===undefined)return className(this,"");classList=className(this),funcArg(this,name,idx,classList).split(/\s+/g).forEach(function(klass){classList=classList.replace(classRE(klass)," ")}),className(this,classList.trim())}})},toggleClass:function(name,when){return name?this.each(function(idx){var $this=$(this),names=funcArg(this,name,idx,className(this));names.split(/\s+/g).forEach(function(klass){(when===undefined?!$this.hasClass(klass):when)?$this.addClass(klass):$this.removeClass(klass)})}):this},scrollTop:function(value){if(this.length){var hasScrollTop="scrollTop"in this[0];return value===undefined?hasScrollTop?this[0].scrollTop:this[0].pageYOffset:this.each(hasScrollTop?function(){this.scrollTop=value}:function(){this.scrollTo(this.scrollX,value)})}},scrollLeft:function(value){if(this.length){var hasScrollLeft="scrollLeft"in this[0];return value===undefined?hasScrollLeft?this[0].scrollLeft:this[0].pageXOffset:this.each(hasScrollLeft?function(){this.scrollLeft=value}:function(){this.scrollTo(value,this.scrollY)})}},position:function(){if(this.length){var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rootNodeRE.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();return offset.top-=parseFloat($(elem).css("margin-top"))||0,offset.left-=parseFloat($(elem).css("margin-left"))||0,parentOffset.top+=parseFloat($(offsetParent[0]).css("border-top-width"))||0,parentOffset.left+=parseFloat($(offsetParent[0]).css("border-left-width"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}},offsetParent:function(){return this.map(function(){for(var parent=this.offsetParent||document.body;parent&&!rootNodeRE.test(parent.nodeName)&&"static"==$(parent).css("position");)parent=parent.offsetParent;return parent})}},$.fn.detach=$.fn.remove,["width","height"].forEach(function(dimension){var dimensionProperty=dimension.replace(/./,function(m){return m[0].toUpperCase()});$.fn[dimension]=function(value){var offset,el=this[0];return value===undefined?isWindow(el)?el["inner"+dimensionProperty]:isDocument(el)?el.documentElement["scroll"+dimensionProperty]:(offset=this.offset())&&offset[dimension]:this.each(function(idx){el=$(this),el.css(dimension,funcArg(this,value,idx,el[dimension]()))})}}),adjacencyOperators.forEach(function(operator,operatorIndex){var inside=operatorIndex%2;$.fn[operator]=function(){var argType,parent,nodes=$.map(arguments,function(arg){var arr=[];return argType=type(arg),"array"==argType?(arg.forEach(function(el){return el.nodeType!==undefined?arr.push(el):$.zepto.isZ(el)?arr=arr.concat(el.get()):void(arr=arr.concat(zepto.fragment(el)))}),arr):"object"==argType||null==arg?arg:zepto.fragment(arg)}),copyByClone=this.length>1;return nodes.length<1?this:this.each(function(_,target){parent=inside?target:target.parentNode,target=0==operatorIndex?target.nextSibling:1==operatorIndex?target.firstChild:2==operatorIndex?target:null;var parentInDocument=$.contains(document.documentElement,parent);nodes.forEach(function(node){if(copyByClone)node=node.cloneNode(!0);else if(!parent)return $(node).remove();parent.insertBefore(node,target),parentInDocument&&traverseNode(node,function(el){if(!(null==el.nodeName||"SCRIPT"!==el.nodeName.toUpperCase()||el.type&&"text/javascript"!==el.type||el.src)){var target=el.ownerDocument?el.ownerDocument.defaultView:window;target.eval.call(target,el.innerHTML)}})})})},$.fn[inside?operator+"To":"insert"+(operatorIndex?"Before":"After")]=function(html){return $(html)[operator](this),this}}),zepto.Z.prototype=Z.prototype=$.fn,zepto.uniq=uniq,zepto.deserializeValue=deserializeValue,$.zepto=zepto,$}();return window.Zepto=Zepto,window.$crt=Zepto,void 0===window.$&&(window.$=Zepto),function($){function zid(element){return element._zid||(element._zid=_zid++)}function findHandlers(element,event,fn,selector){if(event=parse(event),event.ns)var matcher=matcherFor(event.ns);return(handlers[zid(element)]||[]).filter(function(handler){return handler&&(!event.e||handler.e==event.e)&&(!event.ns||matcher.test(handler.ns))&&(!fn||zid(handler.fn)===zid(fn))&&(!selector||handler.sel==selector)})}function parse(event){var parts=(""+event).split(".");return{e:parts[0],ns:parts.slice(1).sort().join(" ")}}function matcherFor(ns){return new RegExp("(?:^| )"+ns.replace(" "," .* ?")+"(?: |$)")}function eventCapture(handler,captureSetting){return handler.del&&!focusinSupported&&handler.e in focus||!!captureSetting}function realEvent(type){return hover[type]||focusinSupported&&focus[type]||type}function add(element,events,fn,data,selector,delegator,capture){var id=zid(element),set=handlers[id]||(handlers[id]=[]);events.split(/\s/).forEach(function(event){if("ready"==event)return $(document).ready(fn);var handler=parse(event);handler.fn=fn,handler.sel=selector,handler.e in hover&&(fn=function(e){var related=e.relatedTarget;return!related||related!==this&&!$.contains(this,related)?handler.fn.apply(this,arguments):void 0}),handler.del=delegator;var callback=delegator||fn;handler.proxy=function(e){if(e=compatible(e),!e.isImmediatePropagationStopped()){e.data=data;var result=callback.apply(element,e._args==undefined?[e]:[e].concat(e._args));return result===!1&&(e.preventDefault(),e.stopPropagation()),result}},handler.i=set.length,set.push(handler),"addEventListener"in element&&element.addEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})}function remove(element,events,fn,selector,capture){var id=zid(element);(events||"").split(/\s/).forEach(function(event){findHandlers(element,event,fn,selector).forEach(function(handler){delete handlers[id][handler.i],"removeEventListener"in element&&element.removeEventListener(realEvent(handler.e),handler.proxy,eventCapture(handler,capture))})})}function compatible(event,source){if(source||!event.isDefaultPrevented){source||(source=event),$.each(eventMethods,function(name,predicate){var sourceMethod=source[name];event[name]=function(){return this[predicate]=returnTrue,sourceMethod&&sourceMethod.apply(source,arguments)},event[predicate]=returnFalse});try{event.timeStamp||(event.timeStamp=Date.now())}catch(ignored){}(source.defaultPrevented!==undefined?source.defaultPrevented:"returnValue"in source?source.returnValue===!1:source.getPreventDefault&&source.getPreventDefault())&&(event.isDefaultPrevented=returnTrue)}return event}function createProxy(event){var key,proxy={originalEvent:event};for(key in event)ignoreProperties.test(key)||event[key]===undefined||(proxy[key]=event[key]);return compatible(proxy,event)}var undefined,_zid=1,slice=Array.prototype.slice,isFunction=$.isFunction,isString=function(obj){return"string"==typeof obj},handlers={},specialEvents={},focusinSupported="onfocusin"in window,focus={focus:"focusin",blur:"focusout"},hover={mouseenter:"mouseover",mouseleave:"mouseout"};specialEvents.click=specialEvents.mousedown=specialEvents.mouseup=specialEvents.mousemove="MouseEvents",$.event={add:add,remove:remove},$.proxy=function(fn,context){var args=2 in arguments&&slice.call(arguments,2);if(isFunction(fn)){var proxyFn=function(){return fn.apply(context,args?args.concat(slice.call(arguments)):arguments)};return proxyFn._zid=zid(fn),proxyFn}if(isString(context))return args?(args.unshift(fn[context],fn),$.proxy.apply(null,args)):$.proxy(fn[context],fn);throw new TypeError("expected function")},$.fn.bind=function(event,data,callback){return this.on(event,data,callback)},$.fn.unbind=function(event,callback){return this.off(event,callback)},$.fn.one=function(event,selector,data,callback){return this.on(event,selector,data,callback,1)};var returnTrue=function(){return!0},returnFalse=function(){return!1},ignoreProperties=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,eventMethods={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};$.fn.delegate=function(selector,event,callback){return this.on(event,selector,callback)},$.fn.undelegate=function(selector,event,callback){return this.off(event,selector,callback)},$.fn.live=function(event,callback){return $(document.body).delegate(this.selector,event,callback),this},$.fn.die=function(event,callback){return $(document.body).undelegate(this.selector,event,callback),this},$.fn.on=function(event,selector,data,callback,one){var autoRemove,delegator,$this=this;return event&&!isString(event)?($.each(event,function(type,fn){$this.on(type,selector,data,fn,one)}),$this):(isString(selector)||isFunction(callback)||callback===!1||(callback=data,data=selector,selector=undefined),(callback===undefined||data===!1)&&(callback=data,data=undefined),callback===!1&&(callback=returnFalse),$this.each(function(_,element){one&&(autoRemove=function(e){return remove(element,e.type,callback),callback.apply(this,arguments)}),selector&&(delegator=function(e){var evt,match=$(e.target).closest(selector,element).get(0);return match&&match!==element?(evt=$.extend(createProxy(e),{currentTarget:match,liveFired:element}),(autoRemove||callback).apply(match,[evt].concat(slice.call(arguments,1)))):void 0}),add(element,event,callback,data,selector,delegator||autoRemove)}))},$.fn.off=function(event,selector,callback){var $this=this;return event&&!isString(event)?($.each(event,function(type,fn){$this.off(type,selector,fn)}),$this):(isString(selector)||isFunction(callback)||callback===!1||(callback=selector,selector=undefined),callback===!1&&(callback=returnFalse),$this.each(function(){remove(this,event,callback,selector)}))},$.fn.trigger=function(event,args){return event=isString(event)||$.isPlainObject(event)?$.Event(event):compatible(event),event._args=args,this.each(function(){event.type in focus&&"function"==typeof this[event.type]?this[event.type]():"dispatchEvent"in this?this.dispatchEvent(event):$(this).triggerHandler(event,args)})},$.fn.triggerHandler=function(event,args){var e,result;return this.each(function(i,element){e=createProxy(isString(event)?$.Event(event):event),e._args=args,e.target=element,$.each(findHandlers(element,event.type||event),function(i,handler){return result=handler.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),result},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(event){$.fn[event]=function(callback){return 0 in arguments?this.bind(event,callback):this.trigger(event)}}),$.Event=function(type,props){isString(type)||(props=type,type=props.type);var event=document.createEvent(specialEvents[type]||"Events"),bubbles=!0;if(props)for(var name in props)"bubbles"==name?bubbles=!!props[name]:event[name]=props[name];return event.initEvent(type,bubbles,!0),compatible(event)}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var nativeGetComputedStyle=getComputedStyle;window.getComputedStyle=function(element,pseudoElement){try{return nativeGetComputedStyle(element,pseudoElement)}catch(e){return null}}}}(),function($,undefined){function dasherize(str){return str.replace(/([A-Z])/g,"-$1").toLowerCase()}function normalizeEvent(name){return eventPrefix?eventPrefix+name:name.toLowerCase()}var eventPrefix,transform,transitionProperty,transitionDuration,transitionTiming,transitionDelay,animationName,animationDuration,animationTiming,animationDelay,prefix="",vendors={Webkit:"webkit",Moz:"",O:"o"},testEl=document.createElement("div"),supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,cssReset={};testEl.style.transform===undefined&&$.each(vendors,function(vendor,event){return testEl.style[vendor+"TransitionProperty"]!==undefined?(prefix="-"+vendor.toLowerCase()+"-",eventPrefix=event,!1):void 0}),transform=prefix+"transform",cssReset[transitionProperty=prefix+"transition-property"]=cssReset[transitionDuration=prefix+"transition-duration"]=cssReset[transitionDelay=prefix+"transition-delay"]=cssReset[transitionTiming=prefix+"transition-timing-function"]=cssReset[animationName=prefix+"animation-name"]=cssReset[animationDuration=prefix+"animation-duration"]=cssReset[animationDelay=prefix+"animation-delay"]=cssReset[animationTiming=prefix+"animation-timing-function"]="",$.fx={off:eventPrefix===undefined&&testEl.style.transitionProperty===undefined,speeds:{_default:400,fast:200,slow:600},cssPrefix:prefix,transitionEnd:normalizeEvent("TransitionEnd"),animationEnd:normalizeEvent("AnimationEnd")},$.fn.animate=function(properties,duration,ease,callback,delay){return $.isFunction(duration)&&(callback=duration,ease=undefined,duration=undefined),$.isFunction(ease)&&(callback=ease,ease=undefined),$.isPlainObject(duration)&&(ease=duration.easing,callback=duration.complete,delay=duration.delay,duration=duration.duration),duration&&(duration=("number"==typeof duration?duration:$.fx.speeds[duration]||$.fx.speeds._default)/1e3),delay&&(delay=parseFloat(delay)/1e3),this.anim(properties,duration,ease,callback,delay)},$.fn.anim=function(properties,duration,ease,callback,delay){var key,cssProperties,wrappedCallback,cssValues={},transforms="",that=this,endEvent=$.fx.transitionEnd,fired=!1;if(duration===undefined&&(duration=$.fx.speeds._default/1e3),delay===undefined&&(delay=0),$.fx.off&&(duration=0),"string"==typeof properties)cssValues[animationName]=properties,cssValues[animationDuration]=duration+"s",cssValues[animationDelay]=delay+"s",cssValues[animationTiming]=ease||"linear",endEvent=$.fx.animationEnd;else{cssProperties=[];for(key in properties)supportedTransforms.test(key)?transforms+=key+"("+properties[key]+") ":(cssValues[key]=properties[key],cssProperties.push(dasherize(key)));transforms&&(cssValues[transform]=transforms,cssProperties.push(transform)),duration>0&&"object"==typeof properties&&(cssValues[transitionProperty]=cssProperties.join(", "),cssValues[transitionDuration]=duration+"s",cssValues[transitionDelay]=delay+"s",cssValues[transitionTiming]=ease||"linear")}return wrappedCallback=function(event){if("undefined"!=typeof event){if(event.target!==event.currentTarget)return;$(event.target).unbind(endEvent,wrappedCallback)}else $(this).unbind(endEvent,wrappedCallback);fired=!0,$(this).css(cssReset),callback&&callback.call(this)},duration>0&&(this.bind(endEvent,wrappedCallback),setTimeout(function(){fired||wrappedCallback.call(that)},1e3*(duration+delay)+25)),this.size()&&this.get(0).clientLeft,this.css(cssValues),0>=duration&&setTimeout(function(){that.each(function(){wrappedCallback.call(this)})},0),this},testEl=null}(Zepto),function($,undefined){function anim(el,speed,opacity,scale,callback){"function"!=typeof speed||callback||(callback=speed,speed=undefined);var props={opacity:opacity};return scale&&(props.scale=scale,el.css($.fx.cssPrefix+"transform-origin","0 0")),el.animate(props,speed,null,callback)}function hide(el,speed,scale,callback){return anim(el,speed,0,scale,function(){origHide.call($(this)),callback&&callback.call(this)})}var origShow=(window.document,$.fn.show),origHide=$.fn.hide,origToggle=$.fn.toggle;$.fn.show=function(speed,callback){return origShow.call(this),speed===undefined?speed=0:this.css("opacity",0),anim(this,speed,1,"1,1",callback)},$.fn.hide=function(speed,callback){return speed===undefined?origHide.call(this):hide(this,speed,"0,0",callback)},$.fn.toggle=function(speed,callback){return speed===undefined||"boolean"==typeof speed?origToggle.call(this,speed):this.each(function(){var el=$(this);el["none"==el.css("display")?"show":"hide"](speed,callback)})},$.fn.fadeTo=function(speed,opacity,callback){return anim(this,speed,opacity,null,callback)},$.fn.fadeIn=function(speed,callback){var target=this.css("opacity");return target>0?this.css("opacity",0):target=1,origShow.call(this).fadeTo(speed,target,callback)},$.fn.fadeOut=function(speed,callback){return hide(this,speed,null,callback)},$.fn.fadeToggle=function(speed,callback){return this.each(function(){var el=$(this);el[0==el.css("opacity")||"none"==el.css("display")?"fadeIn":"fadeOut"](speed,callback)})}}(Zepto),function($){function getData(node,name){var id=node[exp],store=id&&data[id];if(void 0===name)return store||setData(node);if(store){if(name in store)return store[name];var camelName=camelize(name);if(camelName in store)return store[camelName]}return dataAttr.call($(node),name)}function setData(node,name,value){var id=node[exp]||(node[exp]=++$.uuid),store=data[id]||(data[id]=attributeData(node));return void 0!==name&&(store[camelize(name)]=value),store}function attributeData(node){var store={};return $.each(node.attributes||emptyArray,function(i,attr){0==attr.name.indexOf("data-")&&(store[camelize(attr.name.replace("data-",""))]=$.zepto.deserializeValue(attr.value))}),store}var data={},dataAttr=$.fn.data,camelize=$.camelCase,exp=$.expando="Zepto"+ +new Date,emptyArray=[];$.fn.data=function(name,value){return void 0===value?$.isPlainObject(name)?this.each(function(i,node){$.each(name,function(key,value){setData(node,key,value)})}):0 in this?getData(this[0],name):void 0:this.each(function(){setData(this,name,value)})},$.data=function(elem,name,value){return $(elem).data(name,value)},$.hasData=function(elem){var id=elem[exp],store=id&&data[id];return store?!$.isEmptyObject(store):!1},$.fn.removeData=function(names){return"string"==typeof names&&(names=names.split(/\s+/)),this.each(function(){var id=this[exp],store=id&&data[id];store&&$.each(names||store,function(key){delete store[names?camelize(this):key]})})},["remove","empty"].forEach(function(methodName){var origFn=$.fn[methodName];$.fn[methodName]=function(){var elements=this.find("*");return"remove"===methodName&&(elements=elements.add(this)),elements.removeData(),origFn.call(this)}})}(Zepto),Zepto}),function(root,factory){"function"==typeof define&&define.amd?define("curator",factory):"object"==typeof exports?module.exports=factory(require("jquery")):root.Curator=factory(root.jQuery||root.Zepto)}(this,function($local){if(void 0==$local)return window.alert("jQuery not found\n\nThe Curator Widget is running in dependency mode - this requires jQuery of Zepto. Try disabling DEPENDENCY MODE in the Admin on the Publish page."),!1;var Curator=function(){"use strict";function nanoajax(params,callback){function cb(statusCode,responseText){return function(){called||(callback(void 0===req.status?statusCode:req.status,0===req.status?"Error":req.response||req.responseText||responseText,req),called=!0)}}var headers=params.headers||{},body=params.body,method=params.method||(body?"POST":"GET"),called=!1,req=getRequest(params.cors);req.open(method,params.url,!0);var success=req.onload=cb(200);req.onreadystatechange=function(){4===req.readyState&&success()},req.onerror=cb(null,"Error"),req.ontimeout=cb(null,"Timeout"),req.onabort=cb(null,"Abort"),body&&(setDefault(headers,"X-Requested-With","XMLHttpRequest"),global.FormData&&body instanceof global.FormData||setDefault(headers,"Content-Type","application/x-www-form-urlencoded"));for(var i=0,len=reqfields.length,field=void 0;len>i;i++)field=reqfields[i],void 0!==params[field]&&(req[field]=params[field]);for(var field$1 in headers)req.setRequestHeader(field$1,headers[field$1]);return req.send(body),req}function getRequest(cors){return cors&&window.XDomainRequest&&!/MSIE 1/.test(window.navigator.userAgent)?new window.XDomainRequest:window.XMLHttpRequest?new window.XMLHttpRequest:void 0}function setDefault(obj,key,value){obj[key]=obj[key]||value}function _k(o,key,val){for(var kPath=key.split("."),i=0;i<kPath.length;i++){var k=kPath[i];o[k]||(o[k]={}),i===kPath.length-1?o[k]=val:o=o[k]}}var reqfields=["responseType","withCredentials","timeout","onprogress"],arrayFill=function(array,value,start,end){if(!Array.isArray(array))throw new TypeError("array is not a Array");var length=array.length;start=parseInt(start,10)||0,end=void 0===end?length:parseInt(end,10)||0;var i,l;for(i=0>start?Math.max(length+start,0):Math.min(start,length),l=0>end?Math.max(length+end,0):Math.min(end,length);l>i;i++)array[i]=value;return array};if(Array.prototype.fill||(Array.prototype.fill=function(value,start,end){return arrayFill(this,value,start,end)}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null
})hasDontEnumBug=!1;Object.keys=function keys(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}!function(){function regexSupplant(regex,flags){return flags=flags||"","string"!=typeof regex&&(regex.global&&flags.indexOf("g")<0&&(flags+="g"),regex.ignoreCase&&flags.indexOf("i")<0&&(flags+="i"),regex.multiline&&flags.indexOf("m")<0&&(flags+="m"),regex=regex.source),new RegExp(regex.replace(/#\{(\w+)\}/g,function(match,name){var newRegex=twttr.txt.regexen[name]||"";return"string"!=typeof newRegex&&(newRegex=newRegex.source),newRegex}),flags)}function stringSupplant(str,values){return str.replace(/#\{(\w+)\}/g,function(match,name){return values[name]||""})}function addCharsToCharClass(charClass,start,end){var s=String.fromCharCode(start);return end!==start&&(s+="-"+String.fromCharCode(end)),charClass.push(s),charClass}var twttr={};twttr.txt={},twttr.txt.regexen={};var HTML_ENTITIES={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};twttr.txt.htmlEscape=function(text){return text&&text.replace(/[&"'><]/g,function(character){return HTML_ENTITIES[character]})},twttr.txt.regexSupplant=regexSupplant,twttr.txt.stringSupplant=stringSupplant,twttr.txt.addCharsToCharClass=addCharsToCharClass;var unicodeLettersAndMarks=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D/.source,unicodeNumbers=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,hashtagSpecialChars=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\u00b7/.source,hashTagSpecialChars2=/\.-/.source;twttr.txt.regexen.hashSigns=/[#ï¼ƒ]/,twttr.txt.regexen.hashtagAlpha=new RegExp("["+unicodeLettersAndMarks+"]"),twttr.txt.regexen.hashtagAlphaNumeric=new RegExp("["+unicodeLettersAndMarks+unicodeNumbers+hashtagSpecialChars+hashTagSpecialChars2+"]"),twttr.txt.regexen.endHashtagMatch=regexSupplant(/^(?:#{hashSigns}|:\/\/)/),twttr.txt.regexen.hashtagBoundary=new RegExp("(?:^|$|[^&"+unicodeLettersAndMarks+unicodeNumbers+hashtagSpecialChars+"])"),twttr.txt.regexen.validHashtag=regexSupplant(/[#]+(#{hashtagAlphaNumeric}*)/gi),window.twttr=twttr}();var EventBus=function(){this.listeners={}};EventBus.prototype.on=function(type,callback,scope){for(var arguments$1=arguments,args=[],numOfArgs=arguments.length,i=0;numOfArgs>i;i++)args.push(arguments$1[i]);args=args.length>3?args.splice(3,args.length-1):[],"undefined"!=typeof this.listeners[type]?this.listeners[type].push({scope:scope,callback:callback,args:args}):this.listeners[type]=[{scope:scope,callback:callback,args:args}]},EventBus.prototype.off=function(type,callback,scope){var this$1=this;if("undefined"!=typeof this.listeners[type]){for(var numOfCallbacks=this.listeners[type].length,newArray=[],i=0;numOfCallbacks>i;i++){var listener=this$1.listeners[type][i];listener.scope===scope&&listener.callback===callback||newArray.push(listener)}this.listeners[type]=newArray}},EventBus.prototype.has=function(type,callback,scope){var this$1=this;if("undefined"!=typeof this.listeners[type]){var numOfCallbacks=this.listeners[type].length;if(void 0===callback&&void 0===scope)return numOfCallbacks>0;for(var i=0;numOfCallbacks>i;i++){var listener=this$1.listeners[type][i];if((scope?listener.scope===scope:!0)&&listener.callback===callback)return!0}}return!1},EventBus.prototype.trigger=function(type){for(var arguments$1=arguments,this$1=this,event={type:type},args=[],i=1;i<arguments.length;i++)args.push(arguments$1[i]);if(args=[event].concat(args),"undefined"!=typeof this.listeners[type])for(var numOfCallbacks=this.listeners[type].length,i$1=0;numOfCallbacks>i$1;i$1++){var listener=this$1.listeners[type][i$1];if(listener&&listener.callback){var concatArgs=args.concat(listener.args);listener.callback.apply(listener.scope,concatArgs)}}},EventBus.prototype.getEvents=function(){var this$1=this,str="";for(var type in this$1.listeners)for(var numOfCallbacks=this$1.listeners[type].length,i=0;numOfCallbacks>i;i++){var listener=this$1.listeners[type][i];str+=listener.scope&&listener.scope.className?listener.scope.className:"anonymous",str+=" listen for '"+type+"'\n"}return str},EventBus.prototype.destroy=function(){this.listeners={}};for(var Globals={POST_CLICK_ACTION_OPEN_POPUP:"open-popup",POST_CLICK_ACTION_GOTO_SOURCE:"goto-source",POST_CLICK_ACTION_NOTHING:"nothing"},CommonUtils={postUrl:function(post){return post.url&&""!==post.url&&"''"!==post.url?post.url:post.network_id+""=="1"?"https://twitter.com/"+post.user_screen_name+"/status/"+post.source_identifier:""},center:function(w,h,bound){var s=window.screen,b=bound||{},bH=b.height||s.height,bW=b.width||s.height;return{top:bH?(bH-h)/2:0,left:bW?(bW-w)/2:0}},popup:function(mypage,myname,w,h,scroll){var position=this.center(w,h),settings="height="+h+",width="+w+",top="+position.top+",left="+position.left+",scrollbars="+scroll+",resizable";window.open(mypage,myname,settings)},tinyparser:function(string,obj){return string.replace(/\{\{(.*?)\}\}/g,function(a,b){return obj&&"undefined"!=typeof obj[b]?encodeURIComponent(obj[b]):""})},debounce:function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;window.clearTimeout(timeout),timeout=window.setTimeout(later,wait),callNow&&func.apply(context,args)}},uId:function(){return"_"+Math.random().toString(36).substr(2,9)}},StringUtils={camelize:function(s){return s.replace(/(?:^|[-_])(\w)/g,function(_,c){return c?c.toUpperCase():""})},twitterLinks:function(s){return s=s.replace(/[@]+[A-Za-z0-9-_]+/g,function(u){var username=u.replace("@","");return StringUtils.url("https://twitter.com/"+username,u)}),s=s.replace(twttr.txt.regexen.validHashtag,function(t){var tag=t.replace("#","%23");return StringUtils.url("https://twitter.com/search?q="+tag,t)})},instagramLinks:function(s){return s=s.replace(/[@]+[A-Za-z0-9-_\.]+/g,function(u){var username=u.replace("@","");return StringUtils.url("https://www.instagram.com/"+username+"/",u)}),s=s.replace(twttr.txt.regexen.validHashtag,function(t){var tag=t.replace("#","");return StringUtils.url("https://www.instagram.com/explore/tags/"+tag+"/",t)})},facebookLinks:function(s){return s=s.replace(/[@]+[A-Za-z0-9-_]+/g,function(u){var username=u.replace("@","");return StringUtils.url("https://www.facebook.com/"+username+"/",u)}),s=s.replace(/[#]+[A-Za-z0-9-_]+/g,function(t){var tag=t.replace("#","%23");return StringUtils.url("https://www.facebook.com/search/top/?q="+tag,t)})},linksToHref:function(s){return s=s.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+[A-Za-z0-9-_:%&~\?\/=]+/g,function(url){return StringUtils.url(url)})},url:function(s,t){return t=t||s,'<a href="'+s+'" target="_blank">'+t+"</a>"},youtubeVideoId:function(url){var regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,match=url.match(regExp);if(match&&11===match[7].length)return match[7];var regExp$1=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/))([^#\&\?]*).*/,match2=url.match(regExp$1);return match2&&11===match2[6].length?match2[6]:!1},vimeoVideoId:function(url){var regExp=/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?/,match=url.match(regExp);return match&&match.length>=2?match[1]:!1},filterHtml:function(html){try{var div=document.createElement("div");div.innerHTML=html;var text=div.textContent||div.innerText||"";return text}catch(e){return html}},nl2br:function(s){return s=s.trim(),s=s.replace(/(?:\r\n|\r|\n)/g,"<br />")}},SocialFacebook={share:function(post){var obj=post,cb=function(){};obj.url=CommonUtils.postUrl(post),obj.cleanText=StringUtils.filterHtml(post.text),0!==obj.url.indexOf("http")&&(obj.url=obj.image);var useJSSDK=!1;if(useJSSDK)window.FB.ui({method:"feed",link:obj.url,picture:obj.image,name:obj.user_screen_name,description:obj.cleanText},cb);else{var url="https://www.facebook.com/sharer/sharer.php?u={{url}}&d={{cleanText}}",url2=CommonUtils.tinyparser(url,obj);CommonUtils.popup(url2,"twitter","600","430","0")}}},SocialTwitter={share:function(post){var obj=post;obj.url=CommonUtils.postUrl(post),obj.cleanText=StringUtils.filterHtml(post.text);var url="http://twitter.com/share?url={{url}}&text={{cleanText}}&hashtags={{hashtags}}",url2=CommonUtils.tinyparser(url,obj);CommonUtils.popup(url2,"twitter","600","430","0")}},Logger={debug:!1,log:function(s){window.console&&Logger.debug&&window.console.log(s)},error:function(s){window.console&&window.console.error(s)}},Events={FEED_LOADED:"feed:loaded",FEED_FAILED:"feed:failed",FILTER_CHANGED:"filter:changed",POSTS_LOADED:"posts:loaded",POSTS_FAILED:"posts:failed",POSTS_RENDERED:"posts:rendered",POST_CREATED:"post:created",POST_CLICK:"post:click",POST_CLICK_READ_MORE:"post:clickReadMore",POST_IMAGE_LOADED:"post:imageLoaded",POST_IMAGE_FAILED:"post:imageFailed",CAROUSEL_CHANGED:"carousel:changed"},v1PopupUnderlayTemplate="",v1PopupWrapperTemplate=' <div class="crt-popup-wrapper">     <div class="crt-popup-wrapper-c">         <div class="crt-popup-underlay"></div>         <div class="crt-popup-container"></div>     </div> </div>',v1PopupTemplate=' \n<div class="crt-popup"> \n    <a href="#" class="crt-close crt-icon-cancel"></a> \n    <a href="#" class="crt-next crt-icon-right-open"></a> \n    <a href="#" class="crt-previous crt-icon-left-open"></a> \n    <div class="crt-popup-left">  \n        <div class="crt-video"> \n            <div class="crt-video-container">\n                <video preload="none">\n                <source src="<%=video%>" type="video/mp4">\n                </video>\n                <img src="<%=image%>" alt="Image posted by <%=this.userScreenName()%> to <%=this.networkName()%>" />\n                <a href="javascript:;" class="crt-play"><i class="crt-play-icon"></i></a> \n            </div> \n        </div> \n        <div class="crt-image"> \n            <img src="<%=image%>" alt="Image posted by <%=this.userScreenName()%> to <%=this.networkName()%>" /> \n        </div> \n        <div class="crt-pagination"><ul></ul></div>\n    </div> \n    <div class="crt-popup-right"> \n        <div class="crt-popup-header"> \n            <span class="crt-social-icon"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n            <img src="<%=user_image%>" alt="Profile image for <%=user_full_name%>"  /> \n            <div class="crt-post-name"><span><%=user_full_name%></span><br/><a href="<%=this.userUrl()%>" target="_blank"><%=this.userScreenName()%></a></div> \n        </div> \n        <div class="crt-popup-text <%=this.contentTextClasses()%>"> \n            <div class="crt-popup-text-container"> \n                <p class="crt-date"><%=this.prettyDate(source_created_at)%></p> \n                <div class="crt-popup-text-body"><%=this.parseText(text)%></div> \n            </div> \n        </div> \n        <div class="crt-popup-read-more">\n            <a href="<%=url%>" target="_blank" class="crt-button"><%=this._t("go-to-original-post")%></a> \n        </div>\n        <div class="crt-popup-footer">\n            <div class="crt-popup-stats"><span><%=likes%></span> <%=this._t("likes", likes)%> <i class="sep"></i> <span><%=comments%></span> <%=this._t("comments", comments)%></div> \n            <div class="crt-post-share"><span class="ctr-share-hint"></span><a href="#" class="crt-share-facebook"><i class="crt-icon-facebook"></i></a>  <a href="#" class="crt-share-twitter"><i class="crt-icon-twitter"></i></a></div>\n        </div> \n    </div> \n</div>',filterTemplate='<div class="crt-filter"> \n<div class="crt-filter-networks">\n<ul class="crt-networks"> \n    <li class="crt-filter-label"><label><%=this._t(\'filter\')%>:</label></li>\n    <li class="active"><a href="#" data-network="0"> <%=this._t(\'all\')%></a></li>\n</ul>\n</div> \n<div class="crt-filter-sources">\n<ul class="crt-sources"> \n    <li class="crt-filter-label"><label><%=this._t(\'filter\')%>:</label></li>\n    <li class="active"><a href="#" data-source="0"> <%=this._t(\'all\')%></a></li>\n</ul>\n</div> \n</div>',gridPostTemplate=' \n<div class="crt-post-c">\n    <div class="crt-post post<%=id%> <%=this.contentImageClasses()%> <%=this.contentTextClasses()%>"> \n        <div class="crt-post-content"> \n            <div class="crt-hitarea" > \n                <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="spacer" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /> \n                <div class="crt-post-content-image" style="background-image:url(\'<%=image%>\');"></div> \n                <div class="crt-post-content-text-c"> \n                    <div class="crt-post-content-text"> \n                        <%=this.parseText(text)%> \n                    </div> \n                </div> \n                <a href="javascript:;" class="crt-play"><i class="crt-play-icon"></i></a> \n                <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                <div class="crt-post-hover">\n                    <div class="crt-post-header"> \n                        <img src="<%=user_image%>" alt="Profile image for <%=user_full_name%>"  /> \n                        <div class="crt-post-name"><span><%=user_full_name%></span><br/><a href="<%=this.userUrl()%>" target="_blank">@<%=user_screen_name%></a></div> \n                    </div> \n                    <div class="crt-post-hover-text"> \n                        <%=this.parseText(text)%> \n                    </div> \n                    <span class="crt-social-icon crt-social-icon-hover"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                </div> \n            </div> \n        </div> \n    </div>\n</div>',v1PostTemplate=' <div class="crt-post-v1 crt-post-c">    <div class="crt-post-bg"></div>     <div class="crt-post post<%=id%> crt-post-<%=this.networkIcon()%>">         <div class="crt-post-header">             <span class="crt-social-icon"><i class="crt-icon-<%=this.networkIcon()%>"></i></span>             <img src="<%=user_image%>" alt="Profile image for <%=user_full_name%>"  />             <div class="crt-post-name">            <div class="crt-post-fullname"><%=user_full_name%></div>            <div class="crt-post-username"><a href="<%=this.userUrl()%>" target="_blank">@<%=user_screen_name%></a></div>            </div>         </div>         <div class="crt-post-content">             <div class="crt-image crt-hitarea crt-post-content-image <%=this.contentImageClasses()%>" >                 <div class="crt-image-c"><img src="<%=image%>" class="crt-post-image" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /></div>                 <span class="crt-play"><i class="crt-play-icon"></i></span>             </div>             <div class="text crt-post-content-text <%=this.contentTextClasses()%>">                 <div class="crt-post-text-body"><%=this.parseText(text)%></div>             </div>         </div>         <div class="crt-post-footer">            <div class="crt-date"><%=this.prettyDate(source_created_at)%></div>             <div class="crt-post-share"><span class="crt-share-hint"></span><a href="#" class="crt-share-facebook"><i class="crt-icon-facebook"></i></a>  <a href="#" class="crt-share-twitter"><i class="crt-icon-twitter"></i></a></div>        </div>         <div class="crt-post-read-more"><a href="#" class="crt-post-read-more-button">Read more</a> </div>     </div></div>',v2PostTemplate=' \n<div class="crt-post-v2 crt-post crt-post-<%=this.networkIcon()%> <%=this.contentTextClasses()%>  <%=this.contentImageClasses()%>" data-post="<%=id%>"> \n    <div class="crt-post-border">\n        <div class="crt-post-c">\n            <div class="crt-post-content">\n                <div class="crt-image crt-hitarea crt-post-content-image" > \n                    <div class="crt-image-c"><img src="<%=image%>" class="crt-post-image" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /></div>   \n                    <span class="crt-play"><i class="crt-play-icon"></i></span> \n                    <div class="crt-image-carousel"><i class="crt-icon-image-carousel"></i></div> \n                </div> \n                <div class="crt-post-header"> \n                    <span class="crt-social-icon"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                    <div class="crt-post-fullname"><a href="<%=this.userUrl()%>" target="_blank"><%=user_full_name%></a></div>\n                </div> \n                <div class="text crt-post-content-text"> \n                    <%=this.parseText(text)%> \n                </div> \n            </div> \n            <div class="crt-post-footer"> \n                <img class="crt-post-userimage" src="<%=user_image%>" alt="Profile image for <%=user_screen_name%>" /> \n                <span class="crt-post-username"><a href="<%=this.userUrl()%>" target="_blank"><%=this.userScreenName()%></a></span>\n                <span class="crt-date"><%=this.prettyDate(source_created_at)%></span> \n                <div class="crt-post-share"><span class="crt-share-hint"></span><a href="#" class="crt-share-facebook"><i class="crt-icon-facebook"></i></a>  <a href="#" class="crt-share-twitter"><i class="crt-icon-twitter"></i></a></div>\n            </div> \n            <div class="crt-post-max-height-read-more"><a href="#" class="crt-post-read-more-button"><%=this._t("read-more")%></a></div> \n        </div> \n    </div> \n</div>',template='\n<div class="crt-grid-post crt-grid-post-v2 crt-post-<%=id%> <%=this.contentImageClasses()%> <%=this.contentTextClasses()%>" data-post="<%=id%>">     <div class="crt-post-c"> \n        <div class="crt-post-content"> \n            <div class="crt-hitarea" > \n                <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="crt-spacer" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /> \n                <div class="crt-grid-post-image">\n                    <div class="crt-post-content-image" style="background-image:url(\'<%=image%>\');"></div> \n                    <span class="crt-play"><i class="crt-play-icon"></i></span> \n                    <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                    <div class="crt-image-carousel"><i class="crt-icon-image-carousel"></i></div> \n                </div>\n                <div class="crt-grid-post-text">\n                    <div class="crt-grid-post-text-wrap"> \n                        <div><%=this.parseText(text)%></div> \n                    </div> \n                    <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                </div>\n                <div class="crt-post-hover">\n                    <div>\n                        <div class="crt-post-header"> \n                            <span class="crt-social-icon"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                            <div class="crt-post-fullname"><a href="<%=this.userUrl()%>" target="_blank"><%=user_full_name%></a></div>\n                        </div> \n                        <div class="crt-post-content-text"> \n                            <%=this.parseText(text)%> \n                        </div> \n                        <div class="crt-post-read-more"><a href="#" class="crt-post-read-more-button"><%=this._t("read-more")%></a></div> \n                        <div class="crt-post-footer">\n                            <img class="crt-post-userimage" src="<%=user_image%>" alt="Profile image for <%=user_full_name%>" /> \n                            <span class="crt-post-username"><a href="<%=this.userUrl()%>" target="_blank"><%=this.userScreenName()%></a></span>\n                            <span class="crt-date"><%=this.prettyDate(source_created_at)%></span> \n                            <div class="crt-post-share"><span class="crt-share-hint"></span><a href="#" class="crt-share-facebook"><i class="crt-icon-facebook"></i></a>  <a href="#" class="crt-share-twitter"><i class="crt-icon-twitter"></i></a></div>\n                        </div> \n                    </div>\n                </div> \n            </div> \n        </div> \n    </div>\n</div>',v2GridFeedTemple='\n<div class="crt-feed-window">\n    <div class="crt-feed"></div>\n</div>\n<div class="crt-load-more"><a href="#"><%=this._t("load-more")%></a></div>',template$1='\n<div class="crt-grid-post crt-grid-post-minimal crt-grid-post-v2 crt-post-<%=id%> <%=this.contentImageClasses()%> <%=this.contentTextClasses()%>" data-post="<%=id%>">     <div class="crt-post-c"> \n        <div class="crt-post-content"> \n            <div class="crt-hitarea" > \n                <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" class="crt-spacer" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /> \n                <div class="crt-grid-post-image">\n                    <div class="crt-post-content-image" style="background-image:url(\'<%=image%>\');"></div> \n                    <a href="javascript:;" class="crt-play"><i class="crt-play-icon"></i></a> \n                    <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                    <div class="crt-image-carousel"><i class="crt-icon-image-carousel"></i></div> \n                </div>\n                <div class="crt-grid-post-text">\n                    <div class="crt-grid-post-text-wrap"> \n                        <div><%=this.parseText(text)%></div> \n                    </div> \n                    <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                </div>\n                <div class="crt-post-hover">\n                    <div>\n                        <div class="crt-post-header">\n                            <span class="crt-social-icon"><i class="crt-icon-<%=this.networkIcon()%>"></i></span>  \n                        </div> \n                        <div class="crt-post-minimal-stats"> \n                            <span class="crt-likes"><i class="crt-icon-heart"></i>&nbsp;<%=likes%></span>\n                            <span class="crt-comments"><i class="crt-icon-comment"></i>&nbsp;<%=comments%></span>\n                        </div> \n                    </div> \n                </div> \n            </div> \n        </div> \n    </div>\n</div>',template$2='\n<div class="crt-feed-window">\n    <div class="crt-feed"></div>\n</div>\n<div class="crt-load-more"><a href="#"><%=this._t("load-more")%></a></div>',template$3='\n<div class="crt-list-post crt-post-<%=id%> <%=this.contentImageClasses()%> <%=this.contentTextClasses()%>" data-post="<%=id%>">     <div class="crt-post-c"> \n        <div class="crt-post-content"> \n            <div class="crt-list-post-image">\n                <div>\n                <img class="crt-post-content-image" src="<%=image%>" alt="Image posted by <%=user_screen_name%> to <%=this.networkName()%>" /> \n                <a href="javascript:;" class="crt-play"><i class="crt-play-icon"></i></a> \n                <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span> \n                <span class="crt-image-carousel"><i class="crt-icon-image-carousel"></i></span>\n                </div> \n            </div>\n            <div class="crt-list-post-text">\n                <div class="crt-post-header"> \n                    <div class="crt-post-fullname"><%=id%> - <a href="<%=this.userUrl()%>" target="_blank"><%=user_full_name%></a></div>\n                </div> \n                <div class="crt-list-post-text-wrap"> \n                    <div><%=this.parseText(text)%></div> \n                </div> \n                <span class="crt-social-icon crt-social-icon-normal"><i class="crt-icon-<%=this.networkIcon()%>"></i></span>\n                 <div class="crt-post-footer">\n                    <img class="crt-post-userimage" src="<%=user_image%>" alt="Profile image for <%=user_full_name%>"/> \n                    <span class="crt-post-username"><a href="<%=this.userUrl()%>" target="_blank">@<%=user_screen_name%></a></span>\n                    <span class="crt-date"><%=this.prettyDate(source_created_at)%></span> \n                    <div class="crt-post-share"><span class="crt-share-hint"></span><a href="#" class="crt-share-facebook"><i class="crt-icon-facebook"></i></a>  <a href="#" class="crt-share-twitter"><i class="crt-icon-twitter"></i></a></div>\n                </div>  \n            </div>\n        </div> \n    </div>\n</div>',Templates={filter:filterTemplate,popup:v1PopupTemplate,"popup-underlay":v1PopupUnderlayTemplate,"popup-wrapper":v1PopupWrapperTemplate,"post-v1":v1PostTemplate,"grid-post-v1":gridPostTemplate,
"post-v2":v2PostTemplate,"grid-post-v2":template,"grid-post-minimal":template$1,"grid-feed-v2":v2GridFeedTemple,"list-feed":template$2,"list-post":template$3},isNumeric=function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},isObject=function(obj){return"object"==typeof obj&&null!==obj},isString=function(obj){return"[object String]"===Object.prototype.toString.call(obj)},libTranslate={getTranslationFunction:function(messageObject,options){function getTranslationValue(translationKey){if(messageObject[translationKey])return messageObject[translationKey];var components=translationKey.split(namespaceSplitter),namespace=components[0],key=components[1];return messageObject[namespace]&&messageObject[namespace][key]?messageObject[namespace][key]:null}function getPluralValue(translation,count){if(isObject(translation)){var upperCap,keys=Object.keys(translation);if(0===keys.length)return debug&&window.console.log("[Translation] No plural forms found."),null;for(var i=0;i<keys.length;i++)0===keys[i].indexOf("gt")&&(upperCap=parseInt(keys[i].replace("gt",""),10));translation[count]?translation=translation[count]:count>upperCap?translation=translation["gt"+upperCap]:translation.n?translation=translation.n:(debug&&window.console.log('[Translation] No plural forms found for count:"'+count+'" in',translation),translation=translation[Object.keys(translation).reverse()[0]])}return translation}function replacePlaceholders(translation,replacements){return isString(translation)?translation.replace(/\{(\w*)\}/g,function(match,key){return replacements.hasOwnProperty(key)?replacements.hasOwnProperty(key)?replacements[key]:key:(debug&&window.console.log('Could not find replacement "'+key+'" in provided replacements object:',replacements),"{"+key+"}")}):translation}options=isObject(options)?options:{};var debug=options.debug,namespaceSplitter=options.namespaceSplitter||"::";return function(translationKey){var replacements=isObject(arguments[1])?arguments[1]:isObject(arguments[2])?arguments[2]:{},count=isNumeric(arguments[1])?arguments[1]:isNumeric(arguments[2])?arguments[2]:null,translation=getTranslationValue(translationKey);return null!==count&&(replacements.n=replacements.n?replacements.n:count,translation=getPluralValue(translation,count)),translation=replacePlaceholders(translation,replacements),null===translation&&(translation=debug?"@@"+translationKey+"@@":translationKey,debug&&window.console.log('Translation for "'+translationKey+'" not found.')),translation}}},langsData="\nid,en,de,it,nl,es,fr,po,ru,sl,pl,ar,fi\nload-more,Load more,Mehr anzeigen,Di piÃ¹,Laad meer,Cargar mÃ¡s,Voir plus,Carregar Mais,Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ,PrikaÅ¾i veÄ,,,Lataa lisÃ¤Ã¤\nminutes-ago.1,{n} minute ago,Vor einer Minute,Un minuto fa,{n} minuut geleden,Hace un minuto,Il y a {n} minute,Tem um minuto,ÐžÐ´Ð½Ñƒ Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ Ð½Ð°Ð·Ð°Ð´,pred {n} minuto,,,{n} minuutti sitten\nminutes-ago.n,{n} minutes ago,Vor {n} Minuten,{n} minuti fa,{n} minuten geleden,Hace {n} minutos,Il y a {n} minutes,Tem {n} minutos,{n} Ð¼Ð¸Ð½ÑƒÑ‚ Ð½Ð°Ð·Ð°Ð´,pred {n} minutami,,,{n} minuuttia sitten\nhours-ago.1,{n} hour ago,Vor einer Stunde,Un'ora fa,{n} uur geleden,Hace una hora,Il y a {n} heure,Tem {n} hora,ÐžÐ´Ð¸Ð½ Ñ‡Ð°Ñ Ð½Ð°Ð·Ð°Ð´,pred {n} uro,,,{n} tunti sitten\nhours-ago.n,{n} hours ago,Vor {n} Stunden,{n} ore fa,{n} uren geleden,Hace {n} horas,Il y a {n} heures,Tem {n} horas,{n} Ñ‡Ð°ÑÐ¾Ð² Ð½Ð°Ð·Ð°Ð´,pred {n} urami,,,{n} tuntia sitten\ndays-ago.1,{n} day ago,Vor einem Tag,Un giorno fa,{n} dag geleden,Hace un dÃ­a,Il y a {n} jour,Faz um dia,ÐžÐ´Ð¸Ð½ Ð´ÐµÐ½ÑŒ Ð½Ð°Ð·Ð°Ð´,pred {n} dnevom,,,{n} pÃ¤ivÃ¤ sitten\ndays-ago.n,{n} days ago,Vor {n} Tagen,{n} giorni fa,{n} dagen geleden,Hace {n} dÃ­as,Il y a {n} jours,Fazem {n} dias,{n} Ð´Ð½ÐµÐ¹ Ð½Ð°Ð·Ð°Ð´,pred {n} dnevi,,,{n} pÃ¤ivÃ¤Ã¤ sitten\nweeks-ago.1,{n} week ago,Vor einer Woche,Una settimana fa,{n} week geleden,Hace una semana,Il y a {n} semaine,Faz uma semana,ÐžÐ´Ð½Ñƒ Ð½ÐµÐ´ÐµÐ»ÑŽ Ð½Ð°Ð·Ð°Ð´,pred {n} tednom,,,{n} viikko sitten\nweeks-ago.n,{n} weeks ago,Vor {n} Wochen,{n} settimane fa,{n} weken geleden,Hace {n} semanas,Il y a {n} semaines,Fazem {n} semanas,{n} Ð½ÐµÐ´ÐµÐ»ÑŒ Ð½Ð°Ð·Ð°Ð´,pred {n} tedni,,,{n} viikkoa sitten\nmonths-ago.1,{n} month ago,Vor einem Monat,Un mese fa,{n} maand geleden,Hace un mes,Il y a {n} mois,Tem um mÃªs,ÐžÐ´Ð¸Ð½ Ð¼ÐµÑÑÑ† Ð½Ð°Ð·Ð°Ð´,pred {n} mesecem,,,{n} kuukausi sitten\nmonths-ago.n,{n} months ago,Vor {n} Monaten,{n} mesi,{n} maanden geleden,Hace {n} meses,Il y a {n} mois,Tem {n} meses,{n} Ð¼ÐµÑÑÑ†ÐµÐ² Ð½Ð°Ð·Ð°Ð´,pred {n} meseci,,,{n} kuukautta sitten\nyesterday,Yesterday,Gestern,Leri,Gisteren,Ayer,Hier,Ontem,Ð’Ñ‡ÐµÑ€Ð°,VÄeraj,,,Eilen\njust-now,Just now,Eben,Appena,Nu,Ahora,Il y a un instant,Agora,Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾,Pravkar,,,Juuri nyt\nprevious,Previous,ZurÃ¼ck,Indietro,Vorige,Anterior,PrÃ©cÃ©dent,Anterior,ÐŸÑ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹,PrejÅ¡nji,,,Edellinen\nnext,Next,Weiter,PiÃ¹,Volgende,Siguiente,Suivant,PrÃ³ximo,Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹,Naslednji,,,Seuraava\ncomments,Comments,Kommentare,Commenti,Comments,Comentarios,Commentaires,ComentÃ¡rios,ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸,Komentarji,,,Kommentit\nlikes,Likes,GefÃ¤llt mir,Mi piace,Likes,Me gusta,J'aime,Curtir,Ð›Ð°Ð¹ÐºÐ¸,VÅ¡eÄki,,,TykkÃ¤ykset\nread-more,Read more,Weiterlesen,Di piÃ¹,Lees meer,Leer mÃ¡s,En savoir plus,Leia mais,ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½ÐµÐµ,Preberi veÄ,,,Lue lisÃ¤Ã¤\nfilter,Filter,Filtern,filtrare,Filtreren,filtrar,filtrer,Filtro,Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ,Filter,,,Suodata\nall,All,Alle,Tutti,Alle,Todas,Tout,Todos,Ð²ÑÐµ,Vsi,,,Kaikki\ngo-to-original-post,Go to original post,,,,,,,,,,,Palaa alkuperÃ¤iseen postaukseen\n",langs={},langDataLines=langsData.split("\n"),i=langDataLines.length-1;i>=0;i--)langDataLines[i]||langDataLines.splice(i,1);for(var keys=langDataLines[0].split(","),i$1=1;i$1<langDataLines.length;i$1++)for(var langDataCols=langDataLines[i$1].split(","),j=1;j<langDataCols.length;j++)_k(langs,keys[j]+"."+langDataCols[0],langDataCols[j]);var _cache={},currentLang="en",mod={setLang:function(lang){currentLang=lang},t:function t(key,n,lang){lang=lang||currentLang,_cache[lang]||(langs[lang]?_cache[lang]=libTranslate.getTranslationFunction(langs[lang]):(window.console.error("Unsupported language `"+lang+"`"),_cache[lang]=libTranslate.getTranslationFunction(langs.en))),key=key.toLowerCase(),key=key.replace(" ","-");var t=_cache[lang](key,n);return t===key?mod.t(key,n,"en"):t}},DateUtils={dateFromString:function(time){var dtstr=time.replace(/\D/g," "),dtcomps=dtstr.split(" ");dtcomps[1]--;var date=new Date(Date.UTC(dtcomps[0],dtcomps[1],dtcomps[2],dtcomps[3],dtcomps[4],dtcomps[5]));return date},dateAsDayMonthYear:function(strEpoch){var myDate=new Date(parseInt(strEpoch,10)),day=myDate.getDate()+"",month=myDate.getMonth()+1+"",year=myDate.getFullYear()+"";day=1===day.length?"0"+day:day,month=1===month.length?"0"+month:month;var created=day+"/"+month+"/"+year;return created},dateAsTimeArray:function(strEpoch){var ampm,myDate=new Date(parseInt(strEpoch,10)),hours=myDate.getHours()+"",mins=myDate.getMinutes()+"";hours>=12?(ampm="PM",hours>12&&(hours=hours-12+"")):ampm="AM",hours=1===hours.length?"0"+hours:hours,mins=1===mins.length?"0"+mins:mins;var array=[parseInt(hours.charAt(0),10),parseInt(hours.charAt(1),10),parseInt(mins.charAt(0),10),parseInt(mins.charAt(1),10),ampm];return array},fuzzyDate:function(dateString){var fuzzy,date=Date.parse(dateString+" UTC"),delta=Math.round((new Date-date)/1e3),minute=60,hour=60*minute,day=24*hour,week=7*day,month=30*day;return fuzzy=30>delta?"Just now":minute>delta?delta+" seconds ago":2*minute>delta?"a minute ago.":hour>delta?Math.floor(delta/minute)+" minutes ago":1===Math.floor(delta/hour)?"1 hour ago.":day>delta?Math.floor(delta/hour)+" hours ago":2*day>delta?"Yesterday":week>delta?"This week":2*week>delta?"Last week":month>delta?"This month":date},prettyDate:function(time){var date=DateUtils.dateFromString(time),diff=((new Date).getTime()-date.getTime())/1e3,day_diff=Math.floor(diff/86400),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();if(isNaN(day_diff)||0>day_diff||day_diff>=31)return year.toString()+"-"+(10>month?"0"+month.toString():month.toString())+"-"+(10>day?"0"+day.toString():day.toString());var minute_diff=Math.floor(diff/60),hour_diff=Math.floor(diff/3600),week_diff=Math.ceil(day_diff/7),r=0===day_diff&&(60>diff&&mod.t("Just now")||3600>diff&&mod.t("minutes ago",minute_diff)||86400>diff&&mod.t("hours ago",hour_diff))||1===day_diff&&mod.t("Yesterday")||7>day_diff&&mod.t("days ago",day_diff)||31>day_diff&&mod.t("weeks ago",week_diff);return r}},helpers={networkIcon:function(){return this.data.network_name.toLowerCase()},networkName:function(){return this.data.network_name.toLowerCase()},userUrl:function(){if(this.data.user_url&&""!==this.data.user_url)return this.data.user_url;if(this.data.originator_user_url&&""!==this.data.originator_user_url)return this.data.originator_user_url;if(this.data.userUrl&&""!==this.data.userUrl)return this.data.userUrl;var netId=this.data.network_id+"";return"1"===netId?"http://twitter.com/"+this.data.user_screen_name:"2"===netId?"http://instagram.com/"+this.data.user_screen_name:"3"===netId?"http://facebook.com/"+this.data.user_screen_name:"#"},userScreenName:function(){return this.data.user_screen_name?"@"+this.data.user_screen_name:""},parseText:function(s){return this.data.is_html?s:("Twitter"===this.data.network_name?(s=StringUtils.linksToHref(s),s=StringUtils.twitterLinks(s)):"Instagram"===this.data.network_name?(s=StringUtils.linksToHref(s),s=StringUtils.instagramLinks(s)):"Facebook"===this.data.network_name?(s=StringUtils.linksToHref(s),s=StringUtils.facebookLinks(s)):s=StringUtils.linksToHref(s),StringUtils.nl2br(s))},nl2br:function(s){return StringUtils.nl2br(s)},contentImageClasses:function(){return this.data.image?"crt-post-has-image":"crt-post-content-image-hidden crt-post-no-image"},contentTextClasses:function(){return this.data.text?"crt-post-has-text":"crt-post-content-text-hidden crt-post-no-text"},fuzzyDate:function(dateString){return DateUtils.fuzzyDate(dateString)},prettyDate:function(time){return DateUtils.prettyDate(time)},_t:function(s,n){return mod.t(s,n)}},z=null;window.$crt?z=window.$crt:window.Zepto?z=window.Zepto:window.jQuery&&(z=window.jQuery),z||window.alert("Curator requires jQuery or Zepto. \n\nPlease include jQuery in your HTML before the Curator widget script tag.\n\nVisit http://jquery.com/download/ to get the latest version");var z$1=z,_rendererTmplCache={},Templating={renderTemplate:function(templateId,data){var source="",$t=z$1("#"+templateId);if(1===$t.length?source=$t.html():void 0!==Templates[templateId]&&(source=Templates[templateId]),""===source)throw new Error("Could not find template "+templateId);var tmpl=Templating.render(source,data);return z$1.parseHTML&&(tmpl=z$1.parseHTML(tmpl)),z$1(tmpl).filter("div")},render:function(str,data){var err="";try{var func=_rendererTmplCache[str];if(!func){var strComp=str.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('"),strFunc="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+strComp+"');}return p.join('');";func=new Function("obj",strFunc),_rendererTmplCache[str]=func}return helpers.data=data,func.call(helpers,data)}catch(e){Logger.error("Template parse error: "+e.message),err=e.message}return" # ERROR: "+err+" # "}},Post=function(EventBus$$1){function Post(postJson,options,widget){var this$1=this;EventBus$$1.call(this),this.options=options,this.widget=widget;var templateId=this.widget.options.templatePost;if(this.json=postJson,this.$el=Templating.renderTemplate(templateId,postJson),this.$postC=this.$el.find(".crt-post-c"),this.$image=this.$el.find(".crt-post-image"),this.$imageContainer=this.$el.find(".crt-image-c"),this.$el.find(".crt-share-facebook").click(this.onShareFacebookClick.bind(this)),this.$el.find(".crt-share-twitter").click(this.onShareTwitterClick.bind(this)),this.$el.find(".crt-post-read-more-button").click(this.onReadMoreClick.bind(this)),this.$postC.click(this.onPostClick.bind(this)),this.$image.css({opacity:0}),this.json.image?(this.$image.on("load",this.onImageLoaded.bind(this)),this.$image.on("error",this.onImageError.bind(this))):window.setTimeout(function(){this$1.setHeight()},100),this.json.image_width>0){var p=this.json.image_height/this.json.image_width*100;this.$imageContainer.addClass("crt-image-responsive").css("padding-bottom",p+"%")}0!==this.json.url.indexOf("http")&&this.$el.find(".crt-post-share").hide(),this.$image.data("dims",this.json.image_width+":"+this.json.image_height),this.json.video&&this.$el.addClass("crt-post-has-video"),this.json.images&&this.json.images.length>0&&this.$el.addClass("crt-has-image-carousel")}return EventBus$$1&&(Post.__proto__=EventBus$$1),Post.prototype=Object.create(EventBus$$1&&EventBus$$1.prototype),Post.prototype.constructor=Post,Post.prototype.onShareFacebookClick=function(ev){return ev.preventDefault(),SocialFacebook.share(this.json),this.widget.track("share:facebook"),!1},Post.prototype.onShareTwitterClick=function(ev){return ev.preventDefault(),SocialTwitter.share(this.json),this.widget.track("share:twitter"),!1},Post.prototype.onPostClick=function(ev){Logger.log("Post->click");var target=z$1(ev.target);target[0]&&target[0].className.indexOf("read-more")>0||(target.is("a")&&"#"!==target.attr("href")&&"javascript:;"!==target.attr("href")?this.widget.track("click:link"):(ev.preventDefault(),this.trigger(Events.POST_CLICK,this,ev)))},Post.prototype.onReadMoreClick=function(ev){ev.preventDefault(),this.widget.track("click:read-more"),this.trigger(Events.POST_CLICK_READ_MORE,this,this.json,ev)},Post.prototype.onImageLoaded=function(){this.$image.animate({opacity:1}),this.setHeight(),this.trigger(Events.POST_IMAGE_LOADED,this),this.widget.trigger(Events.POST_IMAGE_LOADED,this)},Post.prototype.onImageError=function(){this.$image.hide(),this.setHeight(),this.trigger(Events.POST_IMAGE_FAILED,this),this.widget.trigger(Events.POST_IMAGE_FAILED,this)},Post.prototype.setHeight=function(){var height=this.$postC.height();this.options.maxHeight&&this.options.maxHeight>0&&height>this.options.maxHeight&&(this.$postC.css({maxHeight:this.options.maxHeight}),this.$el.addClass("crt-post-max-height")),this.layout()},Post.prototype.getHeight=function(){if(this.$el.hasClass("crt-post-max-height"))return this.$postC.height();var contentHeight=this.$el.find(".crt-post-content").height(),footerHeight=this.$el.find(".crt-post-footer").height();return contentHeight+footerHeight+2},Post.prototype.layout=function(){this.layoutFooter()},Post.prototype.layoutFooter=function(){var $userName=this.$el.find(".crt-post-username"),$date=this.$el.find(".crt-date"),$footer=this.$el.find(".crt-post-footer"),$share=this.$el.find(".crt-post-share"),$userImage=this.$el.find(".crt-post-userimage"),footerWidth=$footer.width(),padding=40,elementsWidth=$userName.width()+$date.width()+$share.width()+$userImage.width()+padding;elementsWidth>footerWidth&&$userName.hide()},Post}(EventBus),HtmlUtils={checkContainer:function(container){return Logger.log("Curator->checkContainer: "+container),0===z$1(container).length?(Logger.error("Curator could not find the element "+container+". Please ensure this element existings in your HTML code. Exiting."),!1):!0},checkPowered:function(jQuerytag){Logger.log("Curator->checkPowered");var h=jQuerytag.html();return h.indexOf("Curator")>0?!0:(window.alert("Container is missing Powered by Curator"),!1)},addCSSRule:function(sheet,selector,rules,index){index=index||0,"insertRule"in sheet?sheet.insertRule(selector+"{"+rules+"}",0):"addRule"in sheet&&sheet.addRule(selector,rules)},createSheet:function(){var style=document.createElement("style");return style.appendChild(document.createTextNode("")),document.head.appendChild(style),style.sheet},loadCSS:function(){},isTouch:function(){var b=!1;try{b="ontouchstart"in document.documentElement}catch(e){}return b}},serialize=function(obj){return"?"+Object.keys(obj).reduce(function(a,k){return a.push(k+"="+encodeURIComponent(obj[k])),a},[]).join("&")},fixUrl=function(url){var p=window.location.protocol,pp=url.indexOf("://");return pp&&(url=url.substr(pp+3)),p="https:"!==p&&"http:"!==p?"https:":p,url=p+"//"+url},ajax={get:function(url,params,success,fail){url=fixUrl(url),params&&(url+=serialize(params)),nanoajax({url:url,cors:!0},function(statusCode,responseText){statusCode?success(JSON.parse(responseText)):fail(statusCode,responseText)})},post:function(url,params,success,fail){url=fixUrl(url),nanoajax({url:url,cors:!0,body:params,method:"POST"},function(statusCode,responseText){statusCode?success(JSON.parse(responseText)):fail(statusCode,responseText)})}},Feed=function(EventBus$$1){function Feed(widget){EventBus$$1.call(this),Logger.log("Feed->init with options"),this.widget=widget,this.posts=[],this.currentPage=0,this.postsLoaded=0,this.postCount=0,this.loading=!1,this.allPostsLoaded=!1,this.pagination={after:null,before:null},this.options=this.widget.options,this.params=this.options.feedParams||{},this.params.limit=this.options.postsPerPage,this.feedBase=this.options.apiEndpoint+"/feeds"}return EventBus$$1&&(Feed.__proto__=EventBus$$1),Feed.prototype=Object.create(EventBus$$1&&EventBus$$1.prototype),Feed.prototype.constructor=Feed,Feed.prototype.loadPosts=function(page,paramsIn){if(page=page||0,Logger.log("Feed->loadPosts "+this.loading),this.loading)return!1;this.currentPage=page,0===+this.currentPage&&(this.posts=[],this.postsLoaded=0);var params=z$1.extend({},this.params,paramsIn);params.limit=this.options.postsPerPage,params.offset=page*this.options.postsPerPage,this._loadPosts(params)},Feed.prototype.loadMorePaginated=function(paramsIn){var params=z$1.extend({},this.params,paramsIn);this.pagination&&this.pagination.after&&(params.after=this.pagination.after),this._loadPosts(params)},Feed.prototype.loadMore=function(paramsIn){if(Logger.log("Feed->loadMore "+this.loading),this.loading)return!1;var params={limit:this.options.postsPerPage};z$1.extend(params,this.options.feedParams,paramsIn),params.offset=this.posts.length,this._loadPosts(params)},Feed.prototype.load=function(params){if(Logger.log("Feed->load "+this.loading),this.loading)return!1;this.currentPage=0;var loadPostParams=z$1.extend(this.params,params);this._loadPosts(loadPostParams)},Feed.prototype.loadAfter=function(){if(Logger.log("Feed->loadAfter "+this.loading),this.loading)return!1;this.currentPage=0;var params=z$1.extend({},this.params);this.pagination&&this.pagination.after&&(params.after=this.pagination.after,delete params.before),this._loadPosts(params)},Feed.prototype._loadPosts=function(params){var this$1=this;Logger.log("Feed->_loadPosts"),this.loading=!0,params.rnd=(new Date).getTime(),ajax.get(this.getUrl("/posts"),params,function(data){Logger.log("Feed->_loadPosts success"),data.success?(this$1.postCount=data.postCount,this$1.postsLoaded+=data.posts.length,this$1.allPostsLoaded=this$1.postsLoaded>=this$1.postCount,this$1.posts=this$1.posts.concat(data.posts),this$1.networks=data.networks,data.pagination&&(this$1.pagination=data.pagination),this$1.widget.trigger(Events.FEED_LOADED,data),this$1.trigger(Events.FEED_LOADED,data),this$1.widget.trigger(Events.POSTS_LOADED,data.posts),this$1.trigger(Events.POSTS_LOADED,data.posts)):(this$1.trigger(Events.POSTS_FAILED,data),this$1.widget.trigger(Events.POSTS_FAILED,data)),this$1.loading=!1},function(jqXHR,textStatus,errorThrown){Logger.log("Feed->_loadPosts fail"),Logger.log(textStatus),Logger.log(errorThrown),this$1.trigger(Events.POSTS_FAILED,[]),this$1.loading=!1})},Feed.prototype.loadPost=function(id,successCallback,failCallback){failCallback=failCallback||function(){},ajax.get(this.getUrl("/post/"+id),{},function(data){data.success?successCallback(data.post):failCallback()},function(jqXHR,textStatus,errorThrown){})},Feed.prototype.inappropriatePost=function(id,reason,success,failure){var params={reason:reason};ajax.post(this.getUrl("/post/"+id+"/inappropriate"),params,function(data,textStatus,jqXHR){data=z$1.parseJSON(data),data.success===!0?success():failure(jqXHR)})},Feed.prototype.lovePost=function(id,success,failure){var params={};z$1.post(this.getUrl("/post/"+id+"/love"),params,function(data,textStatus,jqXHR){data=z$1.parseJSON(data),data.success===!0?success(data.loves):failure(jqXHR)})},Feed.prototype.getUrl=function(trail){return this.feedBase+"/"+this.options.feedId+trail},Feed.prototype.destroy=function(){EventBus$$1.prototype.destroy.call(this)},Feed}(EventBus),networks={1:{name:"Twitter",icon:"crt-icon-twitter"},2:{name:"Instagram",icon:"crt-icon-instagram"},3:{name:"Facebook",icon:"crt-icon-facebook"},4:{name:"Pinterest",icon:"crt-icon-pinterest"},5:{name:"Google",icon:"crt-icon-google"},6:{name:"Vine",icon:"crt-icon-vine"},7:{name:"Flickr",icon:"crt-icon-flickr"},8:{name:"Youtube",icon:"crt-icon-youtube"},9:{name:"Tumblr",icon:"crt-icon-tumblr"},10:{name:"RSS",icon:"crt-icon-rss"},11:{name:"LinkedIn",icon:"crt-icon-linkedin"},12:{id:12,name:"Vimeo",slug:"vimeo",icon:"crt-icon-vimeo"},13:{id:13,name:"Diffbot",slug:"difbot",icon:"crt-icon-cogs"},14:{id:14,name:"Webo",slug:"webo",icon:"crt-icon-weibo"},15:{id:15,name:"Glassdoor",slug:"glassdoor",icon:"crt-icon-cogs"},16:{id:16,name:"Instagram",slug:"instagram",icon:"crt-icon-instagram"},17:{id:17,name:"Yelp",slug:"yelp",icon:"crt-icon-yelp"}},Filter=function(EventBus$$1){function Filter(widget){var this$1=this;Logger.log("Filter->construct"),EventBus$$1.call(this),this.widget=widget,this.options=widget.options,this.$filter=Templating.renderTemplate(this.options.templateFilter,{}),this.$filterNetworks=this.$filter.find(".crt-filter-networks"),this.$filterNetworksUl=this.$filter.find(".crt-filter-networks ul"),this.$filterSources=this.$filter.find(".crt-filter-sources"),this.$filterSourcesUl=this.$filter.find(".crt-filter-sources ul"),this.widget.$container.append(this.$filter),this.$filter.on("click",".crt-filter-networks a",function(ev){ev.preventDefault();var t=z$1(ev.target),networkId=t.data("network");this$1.$filter.find(".crt-filter-networks li").removeClass("active"),t.parent().addClass("active"),this$1.widget.trigger(Events.FILTER_CHANGED,this$1),networkId?this$1.widget.feed.params.network_id=networkId:this$1.widget.feed.params.network_id=0,this$1.widget.feed.loadPosts(0)}),this.$filter.on("click",".crt-filter-sources a",function(ev){ev.preventDefault();var t=z$1(ev.target),sourceId=t.data("source");this$1.$filter.find(".crt-filter-sources li").removeClass("active"),t.parent().addClass("active"),this$1.widget.trigger(Events.FILTER_CHANGED,this$1),sourceId?this$1.widget.feed.params.source_id=sourceId:this$1.widget.feed.params.source_id=0,this$1.widget.feed.loadPosts(0)}),this.widget.on(Events.FEED_LOADED,this.onPostsLoaded.bind(this))}return EventBus$$1&&(Filter.__proto__=EventBus$$1),Filter.prototype=Object.create(EventBus$$1&&EventBus$$1.prototype),Filter.prototype.constructor=Filter,Filter.prototype.onPostsLoaded=function(event,data){var this$1=this,networks$$1=data.networks,sources=data.sources;if(!this.filtersLoaded){if(this.options.filter.showNetworks)for(var i=0,list=networks$$1;i<list.length;i+=1){var id=list[i],network=networks[id];network&&this$1.$filterNetworksUl.append('<li><a href="#" data-network="'+id+'"><i class="'+network.icon+'"></i> '+network.name+"</a></li>")}else this.$filterNetworks.hide();if(this.options.filter.showSources)for(var i$1=0,list$1=sources;i$1<list$1.length;i$1+=1){var source=list$1[i$1],network$1=networks[source.network_id];network$1&&this$1.$filterSourcesUl.append('<li><a href="#" data-source="'+source.id+'"><i class="'+network$1.icon+'"></i> '+source.name+"</a></li>")}else this.$filterSources.hide();this.filtersLoaded=!0}},Filter.prototype.destroy=function(){this.$filter.remove()},Filter}(EventBus),Popup=function(popupManager,post,widget){var this$1=this;Logger.log("Popup->init "),this.popupManager=popupManager,this.json=post,this.widget=widget;var templateId=this.widget.options.templatePopup;if(this.videoPlaying=!1,this.$popup=Templating.renderTemplate(templateId,this.json),this.$left=this.$popup.find(".crt-popup-left"),this.json.image&&this.$popup.addClass("has-image"),this.json.video&&this.$popup.addClass("has-video"),this.json.url&&this.$popup.addClass("crt-has-read-more"),this.json.video&&this.json.video.indexOf("youtu")>=0){this.$popup.find("video").remove();var youTubeId=StringUtils.youtubeVideoId(this.json.video),src='<div class="crt-responsive-video"><iframe id="ytplayer" src="https://www.youtube.com/embed/'+youTubeId+'?autoplay=0&rel=0&showinfo" frameborder="0" allowfullscreen></iframe></div>';this.$popup.find(".crt-video-container img").remove(),this.$popup.find(".crt-video-container a").remove(),this.$popup.find(".crt-video-container").append(src)}else if(this.json.video&&this.json.video.indexOf("vimeo")>=0){this.$popup.find("video").remove();var vimeoId=StringUtils.vimeoVideoId(this.json.video);if(vimeoId){var src$1='<div class="crt-responsive-video"><iframe src="https://player.vimeo.com/video/'+vimeoId+'?color=ffffff&title=0&byline=0&portrait=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';this.$popup.find(".crt-video-container img").remove(),this.$popup.find(".crt-video-container a").remove(),this.$popup.find(".crt-video-container").append(src$1)}}if(this.json.images){this.$page=this.$popup.find(".crt-pagination ul");for(var i=0;i<this.json.images.length;i++)this$1.$page.append('<li><a href="" data-page="'+i+'"></a></li>');this.$page.find("a").click(this.onPageClick.bind(this)),this.currentImage=0,this.$page.find("li:nth-child("+(this.currentImage+1)+")").addClass("selected")}this.$popup.on("click"," .crt-close",this.onClose.bind(this)),this.$popup.on("click"," .crt-previous",this.onPrevious.bind(this)),this.$popup.on("click"," .crt-next",this.onNext.bind(this)),this.$popup.on("click"," .crt-play",this.onPlay.bind(this)),this.$popup.on("click",".crt-share-facebook",this.onShareFacebookClick.bind(this)),this.$popup.on("click",".crt-share-twitter",this.onShareTwitterClick.bind(this)),z$1(window).on("resize.crt-popup",CommonUtils.debounce(this.onResize.bind(this),50)),this.onResize()};Popup.prototype.onResize=function(){Logger.log("Popup->onResize");var windowWidth=z$1(window).width(),padding=60,paddingMobile=40,rightPanel=335,leftPanelMax=600;windowWidth>1055?this.$left.width(leftPanelMax+rightPanel):windowWidth>910?this.$left.width(windowWidth-2*padding):windowWidth>leftPanelMax+2*paddingMobile?this.$left.width(600):this.$left.width(windowWidth-2*paddingMobile)},Popup.prototype.onPageClick=function(ev){ev.preventDefault();var a=z$1(ev.target),page=a.data("page"),image=this.json.images[page];this.$popup.find(".crt-image img").attr("src",image.url),this.currentImage=page,this.$page.find("li").removeClass("selected"),this.$page.find("li:nth-child("+(this.currentImage+1)+")").addClass("selected")},Popup.prototype.onShareFacebookClick=function(ev){return ev.preventDefault(),SocialFacebook.share(this.json),this.widget.track("share:facebook"),!1},Popup.prototype.onShareTwitterClick=function(ev){return ev.preventDefault(),SocialTwitter.share(this.json),this.widget.track("share:twitter"),!1},Popup.prototype.onClose=function(e){e.preventDefault();var that=this;this.hide(function(){that.popupManager.onClose()})},Popup.prototype.onPrevious=function(e){e.preventDefault(),this.popupManager.onPrevious()},Popup.prototype.onNext=function(e){e.preventDefault(),this.popupManager.onNext()},Popup.prototype.onPlay=function(e){Logger.log("Popup->onPlay"),e.preventDefault(),this.videoPlaying=!this.videoPlaying,this.videoPlaying?(this.$popup.find("video")[0].play(),this.widget.track("video:play")):(this.$popup.find("video")[0].pause(),this.widget.track("video:pause")),Logger.log(this.videoPlaying),this.$popup.toggleClass("video-playing",this.videoPlaying)},Popup.prototype.show=function(){this.$popup.fadeIn(function(){})},Popup.prototype.hide=function(callback){Logger.log("Popup->hide");var that=this;this.$popup.fadeOut(function(){that.destroy(),callback()})},Popup.prototype.destroy=function(){this.$popup&&this.$popup.length&&(this.$popup.remove(),this.$popup.find("video").length&&this.$popup.find("video")[0].pause()),z$1(window).off("resize.crt-popup"),delete this.$popup};var PopupManager=function(widget){Logger.log("PopupManager->init "),this.widget=widget;var templateId=this.widget.options.templatePopupWrapper;this.$wrapper=Templating.renderTemplate(templateId,{}),this.$popupContainer=this.$wrapper.find(".crt-popup-container"),this.$underlay=this.$wrapper.find(".crt-popup-underlay"),z$1("body").append(this.$wrapper),this.$underlay.click(this.onUnderlayClick.bind(this))};PopupManager.prototype.showPopup=function(post){var this$1=this;this.popup?this.popup.hide(function(){this$1.popup.destroy(),this$1.showPopup2(post)}):this.showPopup2(post)},PopupManager.prototype.showPopup2=function(post){var this$1=this;this.popup=new Popup(this,post,this.widget),this.$popupContainer.append(this.popup.$popup),this.$wrapper.show(),"block"!==this.$underlay.css("display")&&this.$underlay.fadeIn(),this.popup.show(),z$1("body").addClass("crt-popup-visible"),this.currentPostNum=0;for(var i=0;i<this.posts.length;i++)if(post.id===this$1.posts[i].id){this$1.currentPostNum=i,Logger.log("Found post "+i);break}this.widget.track("popup:show")},PopupManager.prototype.setPosts=function(posts){this.posts=posts},PopupManager.prototype.onClose=function(){this.hide()},PopupManager.prototype.onPrevious=function(){this.currentPostNum-=1,this.currentPostNum=this.currentPostNum>=0?this.currentPostNum:this.posts.length-1,this.showPopup(this.posts[this.currentPostNum])},PopupManager.prototype.onNext=function(){this.currentPostNum+=1,this.currentPostNum=this.currentPostNum<this.posts.length?this.currentPostNum:0,this.showPopup(this.posts[this.currentPostNum])},PopupManager.prototype.onUnderlayClick=function(e){Logger.log("PopupManager->onUnderlayClick"),e.preventDefault(),this.popup&&this.popup.hide(function(){this.hide()}.bind(this))},PopupManager.prototype.hide=function(){var this$1=this;Logger.log("PopupManager->hide"),this.widget.track("popup:hide"),z$1("body").removeClass("crt-popup-visible"),this.currentPostNum=0,this.popup=null,this.$underlay.fadeOut(function(){this$1.$underlay.css({display:"",opacity:""}),this$1.$wrapper.hide()})},PopupManager.prototype.destroy=function(){this.$underlay.remove(),delete this.$popup,delete this.$underlay};var Widget=function(EventBus$$1){function Widget(){Logger.log("Widget->construct"),EventBus$$1.call(this),this.id=CommonUtils.uId()}return EventBus$$1&&(Widget.__proto__=EventBus$$1),Widget.prototype=Object.create(EventBus$$1&&EventBus$$1.prototype),Widget.prototype.constructor=Widget,Widget.prototype.init=function(options,defaults){var this$1=this;if(this.options=z$1.extend(!0,{},defaults,options),!HtmlUtils.checkContainer(this.options.container))return!1;this.$container=z$1(this.options.container),this.$container.addClass("crt-feed"),this.$container.addClass("crt-feed-container"),HtmlUtils.isTouch()?this.$container.addClass("crt-touch"):this.$container.addClass("crt-no-touch");for(var inlineOptions=["lang","debug"],i=0,list=inlineOptions;i<list.length;i+=1){var option=list[i],val=this$1.$container.data("crt-"+option);val&&(this$1.options[option]=val)}return this.options.debug&&(Logger.debug=!0),this.updateResponsiveOptions(),Logger.log("Setting language to: "+this.options.lang),mod.setLang(this.options.lang),this.createFeed(),this.createFilter(),this.createPopupManager(),!0},Widget.prototype.updateResponsiveOptions=function(){if(!this.options.responsive)return void(this.responsiveOptions=z$1.extend(!0,{},this.options));var width=z$1(window).width(),keys=Object.keys(this.options.responsive);keys=keys.map(function(x){return parseInt(x)}),keys=keys.sort(function(a,b){return a-b}),keys=keys.reverse();for(var foundKey=null,i=0,list=keys;i<list.length;i+=1){
var key=list[i];key>=width&&(foundKey=key)}foundKey||(this.responsiveKey=null,this.responsiveOptions=z$1.extend(!0,{},this.options)),this.responsiveKey!==foundKey&&(this.responsiveKey=foundKey,this.responsiveOptions=z$1.extend(!0,{},this.options,this.options.responsive[foundKey]))},Widget.prototype.createFeed=function(){this.feed=new Feed(this),this.feed.on(Events.POSTS_LOADED,this.onPostsLoaded.bind(this)),this.feed.on(Events.POSTS_FAILED,this.onPostsFail.bind(this)),this.feed.on(Events.FEED_LOADED,this.onFeedLoaded.bind(this))},Widget.prototype.createPopupManager=function(){this.popupManager=new PopupManager(this)},Widget.prototype.createFilter=function(){Logger.log("Widget->createFilter"),Logger.log(this.options.filter),this.options.filter&&(this.options.filter.showNetworks||this.options.filter.showSources)&&(this.filter=new Filter(this))},Widget.prototype.loadPosts=function(page){this.feed.loadPosts(page)},Widget.prototype.createPostElements=function(posts){var that=this,postElements=[];return z$1(posts).each(function(){var p=that.createPostElement(this);postElements.push(p.$el)}),postElements},Widget.prototype.createPostElement=function(postJson){var post=new Post(postJson,this.options,this);return post.on(Events.POST_CLICK,this.onPostClick.bind(this)),post.on(Events.POST_CLICK_READ_MORE,this.onPostClickReadMore.bind(this)),post.on(Events.POST_IMAGE_LOADED,this.onPostImageLoaded.bind(this)),this.trigger(Events.POST_CREATED,post),post},Widget.prototype.onPostsLoaded=function(event,posts){Logger.log("Widget->onPostsLoaded"),Logger.log(event),Logger.log(posts)},Widget.prototype.onPostsFail=function(event,data){Logger.log("Widget->onPostsLoadedFail"),Logger.log(event),Logger.log(data)},Widget.prototype.onPostClick=function(ev,post){Logger.log("Widget->onPostClick"),Logger.log(ev),Logger.log(post),this.trigger(Events.POST_CLICK,post),this.options.postClickAction===Globals.POST_CLICK_ACTION_OPEN_POPUP?this.popupManager.showPopup(post.json):this.options.postClickAction===Globals.POST_CLICK_ACTION_GOTO_SOURCE&&window.open(post.json.url)},Widget.prototype.onPostClickReadMore=function(ev,post){Logger.log("Widget->onPostClickReadMore"),Logger.log(ev),Logger.log(post),this.trigger(Events.POST_CLICK_READ_MORE,post),this.options.postClickReadMoreAction===Globals.POST_CLICK_ACTION_OPEN_POPUP?this.popupManager.showPopup(post.json):this.options.postClickAction===Globals.POST_CLICK_ACTION_GOTO_SOURCE&&window.open(post.json.url)},Widget.prototype.onPostImageLoaded=function(ev,post){},Widget.prototype.onFeedLoaded=function(ev,response){this.options.hidePoweredBy&&1===response.account.plan.unbranded?this.$container.addClass("crt-feed-unbranded"):this.$container.addClass("crt-feed-branded")},Widget.prototype.track=function(a){Logger.log("Feed->track "+a),ajax.get(this.getUrl("/track/"+this.options.feedId),{a:a},function(data){Logger.log("Feed->track success"),Logger.log(data)},function(jqXHR,textStatus,errorThrown){Logger.log("Feed->_loadPosts fail"),Logger.log(textStatus),Logger.log(errorThrown)})},Widget.prototype.getUrl=function(trail){return this.options.apiEndpoint+trail},Widget.prototype._t=function(s){return mod.t(s)},Widget.prototype.destroy=function(){Logger.log("Widget->destroy"),EventBus$$1.prototype.destroy.call(this),this.feed&&this.feed.destroy(),this.filter&&this.filter.destroy(),this.popupManager&&this.popupManager.destroy(),this.$container.removeClass("crt-feed"),this.$container.removeClass("crt-feed-unbranded"),this.$container.removeClass("crt-feed-branded")},Widget}(EventBus),ConfigWidgetBase={apiEndpoint:"https://api.curator.io/v1.1",feedId:"",postsPerPage:12,maxPosts:0,templatePost:"post-v2",templatePopup:"popup",templatePopupWrapper:"popup-wrapper",templateFilter:"filter",lang:"en",debug:!1,postClickAction:"open-popup",postClickReadMoreAction:"open-popup",filter:{showNetworks:!1,showSources:!1}},ConfigWidgetWaterfall=z$1.extend({},ConfigWidgetBase,{waterfall:{showLoadMore:!0,continuousScroll:!1,gridWidth:300,animate:!0,animateSpeed:400}}),makeArray=function(array,results){return array=Array.prototype.slice.call(array),results?(results.push.apply(results,array),results):array},LayoutWaterfallSettings={selector:".item",width:225,gutter:20,animate:!1,animationOptions:{speed:200,duration:300,effect:"fadeInOnAppear",queue:!0,complete:function(){}}},LayoutWaterfall=function(options,element){Logger.log("WaterfallLayout->onPostsLoaded"),this.element=z$1(element),this.id=CommonUtils.uId(),this.name=this._setName(5),this.gridArr=[],this.gridArrAppend=[],this.gridArrPrepend=[],this.setArr=!1,this.setGrid=!1,this.cols=0,this.itemCount=0,this.isPrepending=!1,this.appendCount=0,this.resetCount=!0,this.ifCallback=!0,this.box=this.element,this.boxWidth=this.box.width(),this.options=z$1.extend(!0,{},LayoutWaterfallSettings,options),this.gridArr=makeArray(this.box.find(this.options.selector)),this.isResizing=!1,this.w=0,this.boxArr=[],this._setCols(),this._renderGrid("append"),z$1(this.box).addClass("gridalicious"),this.createHandlers()};LayoutWaterfall.prototype.createHandlers=function(){var this$1=this;Logger.log("WaterfallLayout->createHandlers"),z$1(window).on("resize."+this.id,CommonUtils.debounce(function(){this$1.resize()},100))},LayoutWaterfall.prototype.destroyHandlers=function(){Logger.log("WaterfallLayout->destroyHandlers"),z$1(window).off("resize."+this.id)},LayoutWaterfall.prototype._setName=function(length,current){return current=current?current:"",length?this._setName(--length,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".charAt(Math.floor(60*Math.random()))+current):current},LayoutWaterfall.prototype._setCols=function(){var this$1=this;this.cols=Math.floor(this.box.width()/this.options.width),this.cols<1&&(this.cols=1);var diff=(this.box.width()-this.cols*this.options.width-this.options.gutter)/this.cols,w=(this.options.width+diff)/this.box.width()*100;this.w=w,this.colHeights=new Array(this.cols),this.colHeights.fill(0),this.colItems=new Array(this.cols),this.colItems.fill([]);for(var i=0;i<this.cols;i++){var div=z$1("<div></div>").addClass("galcolumn").attr("id","item"+i+this$1.name).css({width:w+"%",paddingLeft:this$1.options.gutter,paddingBottom:this$1.options.gutter,"float":"left","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","-o-box-sizing":"border-box","box-sizing":"border-box"});this$1.box.append(div)}},LayoutWaterfall.prototype._renderGrid=function(method,arr,count){var this$1=this,items=[],boxes=[],appendCount=this.appendCount,cols=this.cols,name=this.name;arr?(boxes=arr,"append"===method&&(appendCount+=count),"prepend"===method&&(this.isPrepending=!0),"renderAfterPrepend"===method&&(appendCount+=count)):(boxes=this.gridArr,appendCount=z$1(this.gridArr).length);for(var i$1=0,list=boxes;i$1<list.length;i$1+=1){var item=list[i$1];item.hasClass("not-responsive"),item.css({zoom:"1",filter:"alpha(opacity=0)",opacity:"0"});for(var shortestCol=0,i=1;i<this.colHeights.length;i++)this$1.colHeights[i]<this$1.colHeights[shortestCol]&&(shortestCol=i);"prepend"===method?(z$1("#item"+shortestCol+name).prepend(item),items.push(item)):(z$1("#item"+shortestCol+name).append(item),items.push(item),appendCount>=cols&&(appendCount-=cols)),this$1.colItems[shortestCol].push(item),this$1.colHeights[shortestCol]+=item.height()}this.appendCount=appendCount,"append"===method||"prepend"===method?("prepend"===method&&this._updateAfterPrepend(this.gridArr,boxes),this._renderItem(items),this.isPrepending=!1):this._renderItem(this.gridArr)},LayoutWaterfall.prototype._collectItems=function(){var collection=[];return z$1(this.box).find(this.options.selector).each(function(){collection.push(z$1(this))}),collection},LayoutWaterfall.prototype._renderItem=function(items){var speed=this.options.animationOptions.speed,effect=this.options.animationOptions.effect,duration=this.options.animationOptions.duration,queue=this.options.animationOptions.queue,animate=this.options.animate,complete=this.options.animationOptions.complete,i=0,t=0;animate!==!0||this.isResizing?(z$1.each(items,function(index,value){z$1(value).css({opacity:"1",filter:"alpha(opacity=100)"})}),this.ifCallback&&complete.call(items)):(queue===!0&&"fadeInOnAppear"===effect?(this.isPrepending&&items.reverse(),z$1.each(items,function(index,value){window.setTimeout(function(){z$1(value).animate({opacity:"1.0"},duration),t++,t===items.length&&complete.call(void 0,items)},i*speed),i++})):queue===!1&&"fadeInOnAppear"===effect&&(this.isPrepending&&items.reverse(),z$1.each(items,function(index,value){z$1(value).animate({opacity:"1.0"},duration),t++,t===items.length&&this.ifCallback&&complete.call(void 0,items)})),queue!==!0||effect||z$1.each(items,function(index,value){z$1(value).css({opacity:"1",filter:"alpha(opacity=100)"}),t++,t===items.length&&this.ifCallback&&complete.call(void 0,items)}))},LayoutWaterfall.prototype._updateAfterPrepend=function(prevItems,newItems){var gridArr=this.gridArr;z$1.each(newItems,function(index,value){gridArr.unshift(value)}),this.gridArr=gridArr},LayoutWaterfall.prototype.resize=function(){if(this.box.width()!==this.boxWidth){var newCols=Math.floor(this.box.width()/this.options.width);this.cols!==newCols&&(this.box.find(z$1(".galcolumn")).remove(),this._setCols(),this.ifCallback=!1,this.isResizing=!0,this._renderGrid("append"),this.ifCallback=!0,this.isResizing=!1,this.boxWidth=this.box.width())}},LayoutWaterfall.prototype.append=function(items){var gridArr=this.gridArr,gridArrAppend=this.gridArrPrepend;z$1.each(items,function(index,value){gridArr.push(value),gridArrAppend.push(value)}),this._renderGrid("append",items,z$1(items).length)},LayoutWaterfall.prototype.prepend=function(items){this.ifCallback=!1,this._renderGrid("prepend",items,z$1(items).length),this.ifCallback=!0},LayoutWaterfall.prototype.destroy=function(){this.destroyHandlers()};var Waterfall=function(Widget$$1){function Waterfall(options){var this$1=this;Widget$$1.call(this),this.init(options,ConfigWidgetWaterfall)&&(Logger.log("Waterfall->init with options:"),Logger.log(this.options),this.$scroll=z$1('<div class="crt-feed-scroll"></div>').appendTo(this.$container),this.$feed=z$1('<div class="crt-feed"></div>').appendTo(this.$scroll),this.$container.addClass("crt-widget-waterfall"),this.options.continuousScroll&&z$1(this.$scroll).scroll(function(){var height=this$1.$scroll.height(),cHeight=this$1.$feed.height(),scrollTop=this$1.$scroll.scrollTop();scrollTop>=cHeight-height&&this$1.loadMorePosts()}),this.options.waterfall.showLoadMore&&(this.$more=z$1('<div class="crt-load-more"><a href="#"><span>'+this._t("load-more")+"</span></a></div>").appendTo(this.$scroll),this.$more.find("a").on("click",function(ev){ev.preventDefault(),this$1.loadMorePosts()})),this.ui=new LayoutWaterfall({selector:".crt-post-c",gutter:0,width:this.options.waterfall.gridWidth,animate:this.options.waterfall.animate,animationOptions:{speed:this.options.waterfall.animateSpeed/2,duration:this.options.waterfall.animateSpeed}},this.$feed),this.on(Events.FILTER_CHANGED,function(){this$1.$feed.find(".crt-post").remove()}),this.feed.load(),this.iniListeners())}return Widget$$1&&(Waterfall.__proto__=Widget$$1),Waterfall.prototype=Object.create(Widget$$1&&Widget$$1.prototype),Waterfall.prototype.constructor=Waterfall,Waterfall.prototype.iniListeners=function(){},Waterfall.prototype.destroyListeners=function(){},Waterfall.prototype.loadMorePosts=function(){Logger.log("Waterfall->loadMorePosts"),this.feed.loadAfter()},Waterfall.prototype.loadPage=function(page){Logger.log("Waterfall->loadPage"),this.$feed.find(".crt-post").remove(),this.feed.loadPosts(page)},Waterfall.prototype.onPostsLoaded=function(event,posts){Logger.log("Waterfall->onPostsLoaded");var postElements=this.createPostElements(posts);this.ui.append(postElements);var that=this;z$1.each(postElements,function(){var post=this;that.options.waterfall.showReadMore&&post.find(".crt-post").addClass("crt-post-show-read-more")}),this.options.waterfall.showLoadMore&&(this.feed.allPostsLoaded?this.$more.hide():this.$more.show()),this.popupManager.setPosts(posts),this.loading=!1,this.trigger(Events.POSTS_RENDERED,this)},Waterfall.prototype.destroy=function(){Logger.log("Waterfall->destroy"),Widget$$1.prototype.destroy.call(this),this.feed.destroy(),this.ui.destroy(),this.$feed.remove(),this.$scroll.remove(),this.$more&&this.$more.remove(),this.$container.removeClass("crt-feed-container").removeClass("crt-widget-waterfall"),this.destroyListeners(),delete this.$feed,delete this.$scroll,delete this.$container,delete this.options,delete this.totalPostsLoaded,delete this.loading,delete this.allLoaded,delete this.feed},Waterfall}(Widget),ConfigWidgetList=z$1.extend({},ConfigWidgetBase,{templatePost:"list-post",templateFeed:"list-feed",animate:!1,list:{showLoadMore:!0}}),List=function(Widget$$1){function List(options){if(Widget$$1.call(this),this.loading=!1,this.feed=null,this.$container=null,this.$feed=null,this.posts=[],this.init(options,ConfigWidgetList)){Logger.log("List->init with options:"),Logger.log(this.options);var tmpl=Templating.renderTemplate(this.responsiveOptions.templateFeed,{});this.$container.append(tmpl),this.$feed=this.$container.find(".crt-feed"),this.$feedWindow=this.$container.find(".crt-feed-window"),this.$loadMore=this.$container.find(".crt-load-more a"),this.$scroller=z$1(window),this.$container.addClass("crt-list"),this.$container.addClass("crt-widget-list"),this.responsiveOptions.list.showLoadMore?(this.$feedWindow.css({position:"relative"}),this.$loadMore.click(this.onMoreClicked.bind(this))):this.$loadMore.hide(),this.createHandlers(),this.feed.load()}}return Widget$$1&&(List.__proto__=Widget$$1),List.prototype=Object.create(Widget$$1&&Widget$$1.prototype),List.prototype.constructor=List,List.prototype.createHandlers=function(){var this$1=this,id=this.id,updateLayoutDebounced=CommonUtils.debounce(function(){this$1.updateLayout()},100);z$1(window).on("resize."+id,CommonUtils.debounce(function(){this$1.updateResponsiveOptions(),this$1.updateLayout()},100)),z$1(window).on("curatorCssLoaded."+id,updateLayoutDebounced),z$1(document).on("ready."+id,updateLayoutDebounced),this.responsiveOptions.list.continuousScroll&&z$1(window).on("scroll."+id,CommonUtils.debounce(function(){this$1.checkScroll()},100)),this.on(Events.FILTER_CHANGED,function(){this$1.$feed.find(".crt-list-post").remove()})},List.prototype.destroyHandlers=function(){var id=this.id;z$1(window).off("resize."+id),z$1(window).off("curatorCssLoaded."+id),z$1(document).off("ready."+id),z$1(window).off("scroll."+id)},List.prototype.loadPosts=function(){},List.prototype.updateLayout=function(){var cols=Math.floor(this.$container.width()/this.responsiveOptions.list.minWidth);cols=1>cols?1:cols,this.$container.removeClass("crt-list-col"+this.columnCount),this.columnCount=cols,this.$container.addClass("crt-list-col"+this.columnCount);var postsNeeded=cols*(this.rowsMax+1);if(postsNeeded>this.feed.postsLoaded&&!this.feed.allPostsLoaded){var limit=postsNeeded-this.feed.postsLoaded,params={limit:limit};this.feed.loadMorePaginated(params)}else this.updateHeight(!1)},List.prototype.updateHeight=function(animate){var $post=this.$container.find(".crt-post-c").first(),postHeight=$post.width(),postMargin=parseInt($post.css("margin-left"));postHeight+=postMargin,this.$feedWindow.css({overflow:"hidden"});var maxRows=Math.ceil(this.feed.postCount/this.columnCount),rows=this.rowsMax<maxRows?this.rowsMax:maxRows,scrollTopOrig=this.$scroller.scrollTop();this.$feedWindow.height(rows*postHeight);var scrollTopNew=this.$scroller.scrollTop();if(scrollTopNew>scrollTopOrig+100&&this.$scroller.scrollTop(scrollTopOrig),this.responsiveOptions.list.showLoadMore){var postsVisible=this.columnCount*rows;this.feed.allPostsLoaded&&postsVisible>=this.feed.posts.length?this.$loadMore.hide():this.$loadMore.show()}},List.prototype.checkScroll=function(){Logger.log("List->checkScroll");var top=this.$container.offset().top,feedBottom=top+this.$feedWindow.height(),scrollTop=this.$scroller.scrollTop(),windowBottom=scrollTop+z$1(window).height(),diff=windowBottom-feedBottom;diff>this.responsiveOptions.list.continuousScrollOffset&&(this.feed.loading||this.feed.allPostsLoaded||(this.rowsMax+=this.responsiveOptions.list.rowsToAdd,this.updateLayout()))},List.prototype.onPostsLoaded=function(event,posts){var this$1=this;if(Logger.log("List->onPostsLoaded"),this.loading=!1,0!==posts.length){this.postElements=[];for(var i=0,anim=function(post){window.setTimeout(function(){post.$el.css({opacity:0}).animate({opacity:1})},100*i)},i$1=0,list=posts;i$1<list.length;i$1+=1){var postJson=list[i$1],post=this$1.createPostElement(postJson);this$1.postElements.push(post),this$1.$feed.append(post.$el),post.layout(),this$1.responsiveOptions.animate&&(post.$el.css({opacity:0}),anim(post,i),i++)}this.popupManager.setPosts(posts),this.responsiveOptions.list.showLoadMore?this.feed.allPostsLoaded?this.$loadMore.hide():this.$loadMore.show():this.$loadMore.hide()}},List.prototype.onMoreClicked=function(ev){ev.preventDefault(),this.feed.loadMorePaginated()},List.prototype.destroy=function(){Widget$$1.prototype.destroy.call(this),this.feed.destroy(),this.destroyHandlers(),this.$container.empty().removeClass("crt-list").removeClass("crt-widget-list").removeClass("crt-list-col"+this.columnCount).css({height:"",overflow:""}),delete this.$feed,delete this.$container,delete this.options,delete this.loading,delete this.feed},List}(Widget),ConfigWidgetGrid$1=z$1.extend({},ConfigWidgetBase,{templatePost:"grid-post-v2",templateFeed:"grid-feed-v2",animate:!1,grid:{minWidth:200,rows:3,showLoadMore:!1,rowsToAdd:1,continuousScroll:!1,continuousScrollOffset:50,hover:{showName:!0,showFooter:!0,showText:!0}}}),Grid=function(Widget$$1){function Grid(options){if(Widget$$1.call(this),this.loading=!1,this.feed=null,this.$container=null,this.$feed=null,this.posts=[],this.columnCount=0,this.rowsMax=0,this.totalPostsLoaded=0,this.allLoaded=!1,this.init(options,ConfigWidgetGrid$1)){Logger.log("Grid->init with options:"),Logger.log(this.options);var tmpl=Templating.renderTemplate(this.responsiveOptions.templateFeed,{});this.$container.append(tmpl),this.$feed=this.$container.find(".crt-feed"),this.$feedWindow=this.$container.find(".crt-feed-window"),this.$loadMore=this.$container.find(".crt-load-more a"),this.$scroller=z$1(window),this.$container.addClass("crt-grid"),this.$container.addClass("crt-widget-grid"),this.responsiveOptions.grid.showLoadMore?(this.$feedWindow.css({position:"relative"}),this.$loadMore.click(this.onMoreClicked.bind(this))):this.$loadMore.hide(),this.responsiveOptions.grid.hover.showName||this.$container.addClass("crt-grid-hide-name"),this.responsiveOptions.grid.hover.showFooter||this.$container.addClass("crt-grid-hide-footer"),this.responsiveOptions.grid.hover.showText||this.$container.addClass("crt-grid-hide-text"),this.createHandlers(),this.rowsMax=this.responsiveOptions.grid.rows,this.updateLayout()}}return Widget$$1&&(Grid.__proto__=Widget$$1),Grid.prototype=Object.create(Widget$$1&&Widget$$1.prototype),Grid.prototype.constructor=Grid,Grid.prototype.createHandlers=function(){var this$1=this,id=this.id,updateLayoutDebounced=CommonUtils.debounce(function(){this$1.updateLayout()},100);z$1(window).on("resize."+id,CommonUtils.debounce(function(){this$1.updateResponsiveOptions(),this$1.updateLayout()},100)),z$1(window).on("curatorCssLoaded."+id,updateLayoutDebounced),z$1(document).on("ready."+id,updateLayoutDebounced),this.responsiveOptions.grid.continuousScroll&&z$1(window).on("scroll."+id,CommonUtils.debounce(function(){this$1.checkScroll()},100)),this.on(Events.FILTER_CHANGED,function(){this$1.$feed.find(".crt-grid-post").remove()})},Grid.prototype.destroyHandlers=function(){var id=this.id;z$1(window).off("resize."+id),z$1(window).off("curatorCssLoaded."+id),z$1(document).off("ready."+id),z$1(window).off("scroll."+id)},Grid.prototype.loadPosts=function(){},Grid.prototype.updateLayout=function(){var cols=Math.floor(this.$container.width()/this.responsiveOptions.grid.minWidth);cols=1>cols?1:cols,this.$container.removeClass("crt-grid-col"+this.columnCount),this.columnCount=cols,this.$container.addClass("crt-grid-col"+this.columnCount);var postsNeeded=cols*(this.rowsMax+1);if(postsNeeded>this.feed.postsLoaded&&!this.feed.allPostsLoaded){var limit=postsNeeded-this.feed.postsLoaded,params={limit:limit};this.feed.loadMorePaginated(params)}else this.updateHeight(!1)},Grid.prototype.updateHeight=function(animate){var $post=this.$container.find(".crt-grid-post").first(),postHeight=$post.height(),postMarginBottom=parseInt($post.css("margin-bottom"));postHeight+=postMarginBottom,this.$feedWindow.css({overflow:"hidden"});var maxRows=Math.ceil(this.feed.postCount/this.columnCount),rows=this.rowsMax<maxRows?this.rowsMax:maxRows,scrollTopOrig=this.$scroller.scrollTop();this.$feedWindow.height(rows*postHeight);var scrollTopNew=this.$scroller.scrollTop();if(scrollTopNew>scrollTopOrig+100&&this.$scroller.scrollTop(scrollTopOrig),this.responsiveOptions.grid.showLoadMore){var postsVisible=this.columnCount*rows;this.feed.allPostsLoaded&&postsVisible>=this.feed.posts.length?this.$loadMore.hide():this.$loadMore.show()}},Grid.prototype.checkScroll=function(){Logger.log("Grid->checkScroll");var top=this.$container.offset().top,feedBottom=top+this.$feedWindow.height(),scrollTop=this.$scroller.scrollTop(),windowBottom=scrollTop+z$1(window).height(),diff=windowBottom-feedBottom;diff>this.responsiveOptions.grid.continuousScrollOffset&&(this.feed.loading||this.feed.allPostsLoaded||(this.rowsMax+=this.responsiveOptions.grid.rowsToAdd,this.updateLayout()))},Grid.prototype.onPostsLoaded=function(event,posts){var this$1=this;if(Logger.log("Grid->onPostsLoaded"),this.loading=!1,0===posts.length)this.allLoaded=!0;else{this.postElements=[];for(var i=0,anim=function(post){window.setTimeout(function(){post.$el.css({opacity:0}).animate({opacity:1})},100*i)},i$1=0,list=posts;i$1<list.length;i$1+=1){var postJson=list[i$1],post=this$1.createPostElement(postJson);this$1.postElements.push(post),this$1.$feed.append(post.$el),post.layout(),this$1.responsiveOptions.animate&&(post.$el.css({opacity:0}),anim(post,i),i++)}this.popupManager.setPosts(posts),window.setTimeout(function(){this$1.updateHeight(!0)},10)}},Grid.prototype.onMoreClicked=function(ev){ev.preventDefault();var rowsToAdd=1;this.columnCount<=1?rowsToAdd=4:2===this.columnCount&&(rowsToAdd=2),this.rowsMax+=rowsToAdd,this.updateLayout()},Grid.prototype.destroy=function(){Widget$$1.prototype.destroy.call(this),this.feed.destroy(),this.destroyHandlers(),this.$container.empty().removeClass("crt-widget-grid").removeClass("crt-grid").removeClass("crt-grid-col"+this.columnCount).css({height:"",overflow:""}),delete this.$feed,delete this.$container,delete this.options,delete this.totalPostsLoaded,delete this.loading,delete this.allLoaded,delete this.feed},Grid}(Widget),LayoutCarouselSettings={infinite:!1,speed:5e3,duration:700,minWidth:250,panesVisible:null,moveAmount:0,autoPlay:!1,useCss:!0};z$1.zepto&&(LayoutCarouselSettings.easing="ease-in-out");var LayoutCarousel=function(EventBus$$1){function LayoutCarousel(container,options){Logger.log("LayoutCarousel->construct"),EventBus$$1.call(this),this.id=CommonUtils.uId(),this.current_position=0,this.animating=!1,this.timeout=null,this.FAKE_NUM=0,this.PANES_VISIBLE=0,this.options=z$1.extend({},LayoutCarouselSettings,options),(!this.options.minWidth||this.options.minWidth<100)&&(this.options.minWidth=LayoutCarouselSettings.minWidth),this.$viewport=z$1(container),this.$panes=this.$viewport.children(),this.$panes.detach(),this.$stage=z$1('<div class="crt-carousel-stage"></div>').appendTo(this.$viewport),this.$pane_slider=z$1('<div class="crt-carousel-slider"></div>').appendTo(this.$stage),this.options.matchHeights&&this.$stage.addClass("crt-match-heights"),this.addControls(),this.createHandlers(),this.update()}return EventBus$$1&&(LayoutCarousel.__proto__=EventBus$$1),LayoutCarousel.prototype=Object.create(EventBus$$1&&EventBus$$1.prototype),LayoutCarousel.prototype.constructor=LayoutCarousel,LayoutCarousel.prototype.createHandlers=function(){var this$1=this;z$1(window).on("resize."+this.id,CommonUtils.debounce(function(){this$1.updateLayout()},100))},LayoutCarousel.prototype.destroyHandlers=function(){z$1(window).off("resize."+this.id)},LayoutCarousel.prototype.update=function(){Logger.log("LayoutCarousel->update "),this.$panes=this.$pane_slider.children(),this.NUM_PANES=this.$panes.length,this.NUM_PANES>0&&(this.resize(),this.move(this.current_position,!0),this.animating||this.options.autoPlay&&this.animate())},LayoutCarousel.prototype.add=function($els){Logger.log("LayoutCarousel->add "+$els.length),this.$pane_slider.append($els),this.$panes=this.$pane_slider.children()},LayoutCarousel.prototype.resize=function(){var this$1=this,PANE_WRAPPER_WIDTH=this.options.infinite?100*(this.NUM_PANES+1)+"%":100*this.NUM_PANES+"%";if(this.$pane_slider.css({width:PANE_WRAPPER_WIDTH}),this.VIEWPORT_WIDTH=this.$viewport.width(),Logger.log("VIEWPORT_WIDTH = "+this.VIEWPORT_WIDTH),this.options.panesVisible?(this.PANES_VISIBLE=this.options.panesVisible(),this.PANE_WIDTH=this.VIEWPORT_WIDTH/this.PANES_VISIBLE):(this.PANES_VISIBLE=this.VIEWPORT_WIDTH<this.options.minWidth?1:Math.floor(this.VIEWPORT_WIDTH/this.options.minWidth),this.PANE_WIDTH=this.VIEWPORT_WIDTH/this.PANES_VISIBLE),this.options.infinite){this.$panes.filter(".crt-clone").remove();for(var i=this.NUM_PANES-1;i>this.NUM_PANES-1-this.PANES_VISIBLE;i--){var first=this$1.$panes.eq(i).clone();first.addClass("crt-clone"),first.css("opacity","1"),first.find(".crt-post-image").css({opacity:1}),this$1.$pane_slider.prepend(first),this$1.FAKE_NUM=this$1.PANES_VISIBLE}this.$panes=this.$pane_slider.children()}this.$panes.each(function(index,pane){z$1(pane).css({width:this$1.PANE_WIDTH+"px"})})},LayoutCarousel.prototype.updateLayout=function(){this.resize(),this.move(this.current_position,!0),this.options.autoPlay&&this.animate()},LayoutCarousel.prototype.animate=function(){var this$1=this;this.animating=!0,window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(){this$1.next()},this.options.speed)},LayoutCarousel.prototype.next=function(){var move=this.options.moveAmount?this.options.moveAmount:this.PANES_VISIBLE;this.move(this.current_position+move,!1)},LayoutCarousel.prototype.prev=function(){var move=this.options.moveAmount?this.options.moveAmount:this.PANES_VISIBLE;this.move(this.current_position-move,!1)},LayoutCarousel.prototype.move=function(i,noAnimate){Logger.log("LayoutCarousel->move "+i),this.current_position=i;var maxPos=this.NUM_PANES-this.PANES_VISIBLE;this.current_position<0?this.current_position=0:this.current_position>maxPos&&(this.current_position=maxPos);var curIncFake=this.FAKE_NUM+this.current_position,left=curIncFake*this.PANE_WIDTH,max=this.options.infinite?this.PANE_WIDTH*this.NUM_PANES:this.PANE_WIDTH*this.NUM_PANES-this.VIEWPORT_WIDTH;this.currentLeft=left,0>left?this.currentLeft=0:left>max?this.currentLeft=max:this.currentLeft=left;var x=0-this.currentLeft;if(Logger.log("LayoutCarousel->move x:"+x),noAnimate)this.$pane_slider.css({transform:"translate3d("+x+"px, 0px, 0px)"}),this.moveComplete();else{var options={duration:this.options.duration,complete:this.moveComplete.bind(this)};this.options.easing&&(options.easing=this.options.easing),z$1.zepto?(this.$pane_slider.addClass("crt-animate-transform"),this.$pane_slider.animate({transform:"translate3d("+x+"px, 0px, 0px)"},options)):(options.step=function(now,fx){z$1(this).css("-webkit-transform","translate3d("+now+"px, 0px, 0px)"),z$1(this).css("-moz-transform","translate3d("+now+"px, 0px, 0px)"),z$1(this).css("transform","translate3d("+now+"px, 0px, 0px)")},this.$pane_slider.addClass("crt-animate-transform"),this.$pane_slider.animate({transformX:x},options))}},LayoutCarousel.prototype.moveComplete=function(){var this$1=this;Logger.log("LayoutCarousel->moveComplete"),this.options.infinite&&this.current_position>=this.NUM_PANES-this.PANES_VISIBLE&&(this.$pane_slider.css({transform:"translate3d(0px, 0px, 0px)"}),this.current_position=0-this.PANES_VISIBLE,this.currentLeft=0),window.setTimeout(function(){this$1.updateHeight()},50),this.trigger(Events.CAROUSEL_CHANGED,[this,this.current_position]),this.options.autoPlay&&this.animate()},LayoutCarousel.prototype.updateHeight=function(){Logger.log("LayoutCarousel->updateHeight");var min=this.options.infinite?this.current_position+this.FAKE_NUM:this.current_position,paneMaxHeight=this.getMaxHeight(min);this.$stage.height()!==paneMaxHeight&&this.$stage.animate({height:paneMaxHeight},300),this.options.matchHeights&&(this.setPaneHeights(min),this.setPaneHeights(min+this.PANES_VISIBLE))},LayoutCarousel.prototype.setPaneHeights=function(min){var this$1=this;Logger.log("LayoutCarousel->setPaneHeights "+min);var max=min+this.PANES_VISIBLE,paneMaxHeight=this.getMaxHeight(min);if(this.options.matchHeights)for(var i=min;max>i;i++){var $pane=z$1(this$1.$panes[i]);$pane.find(".crt-post-c").height(paneMaxHeight-2)}},LayoutCarousel.prototype.getMaxHeight=function(min){var this$1=this;Logger.log("LayoutCarousel->getMaxHeight "+min);for(var paneMaxHeight=0,max=min+this.PANES_VISIBLE,i=min;max>i;i++)if(this$1.$panes[i]){var $pane=z$1(this$1.$panes[i]),h=0;if($pane.hasClass("crt-post-max-height"))h=$pane.height();else{var contentHeight=$pane.find(".crt-post-content").height(),footerHeight=$pane.find(".crt-post-footer").height();h=contentHeight+footerHeight+2}h>paneMaxHeight&&(paneMaxHeight=h)}return paneMaxHeight},LayoutCarousel.prototype.addControls=function(){this.$viewport.append('<button type="button" data-role="none" class="crt-panel-prev crt-panel-arrow" aria-label="Previous" role="button" aria-disabled="false">Previous</button>'),this.$viewport.append('<button type="button" data-role="none" class="crt-panel-next crt-panel-arrow" aria-label="Next" role="button" aria-disabled="false">Next</button>'),this.$viewport.on("click",".crt-panel-prev",this.prev.bind(this)),this.$viewport.on("click",".crt-panel-next",this.next.bind(this))},LayoutCarousel.prototype.destroy=function(){this.destroyHandlers(),window.clearTimeout(this.timeout)},LayoutCarousel}(EventBus),ConfigCarousel=z$1.extend({},ConfigWidgetBase,{scroll:"more",carousel:{autoPlay:!0,autoLoad:!0,infinite:!1,matchHeights:!1}}),Carousel=function(Widget$$1){function Carousel(options){var this$1=this;Widget$$1.call(this),options.postsPerPage=30,this.loading=!1,this.posts=[],this.firstLoad=!0,this.init(options,ConfigCarousel)&&(Logger.log("Carousel->init with options:"),Logger.log(this.options),this.allLoaded=!1,this.$feed=z$1('<div class="crt-carousel-feed"></div>').appendTo(this.$container),this.$container.addClass("crt-carousel"),this.$container.addClass("crt-widget-carousel"),this.carousel=new LayoutCarousel(this.$feed,this.options.carousel),this.carousel.on(Events.CAROUSEL_CHANGED,this.onCarouselChange.bind(this)),this.on(Events.FILTER_CHANGED,function(){this$1.$feed.find(".crt-post").remove()}),this.loadPosts(0))}return Widget$$1&&(Carousel.__proto__=Widget$$1),Carousel.prototype=Object.create(Widget$$1&&Widget$$1.prototype),Carousel.prototype.constructor=Carousel,Carousel.prototype.loadMorePosts=function(){Logger.log("Carousel->loadMorePosts"),this.feed.postCount>this.feed.postsLoaded&&this.feed.loadPosts(this.feed.currentPage+1)},Carousel.prototype.onPostsLoaded=function(event,posts){if(Logger.log("Carousel->onPostsLoaded"),this.loading=!1,0===posts.length)this.allLoaded=!0;else{var that=this,$els=[];z$1(posts).each(function(i){var p=that.createPostElement(this);$els.push(p.$el),that.options.animate&&that.firstLoad&&(p.$el.css({opacity:0}),window.setTimeout(function(){p.$el.css({opacity:0}).animate({opacity:1})},100*i))}),this.carousel.add($els),this.carousel.update(),this.popupManager.setPosts(posts)}this.firstLoad=!1},Carousel.prototype.onCarouselChange=function(event,currentSlide){this.options&&this.options.carousel.autoLoad&&currentSlide>=this.feed.postsLoaded-this.carousel.PANES_VISIBLE&&this.loadMorePosts();
},Carousel.prototype.destroy=function(){Widget$$1.prototype.destroy.call(this),this.feed.destroy(),this.carousel.off(Events.CAROUSEL_CHANGED,this.onCarouselChange.bind(this)),this.carousel.destroy(),this.$feed.remove(),this.$container.removeClass("crt-widget-carousel"),this.$container.removeClass("crt-carousel"),delete this.$feed,delete this.$container,delete this.options,delete this.feed.postsLoaded,delete this.loading,delete this.allLoaded,delete this.feed},Carousel}(Widget),ConfigPanel=z$1.extend({},ConfigWidgetBase,{panel:{autoPlay:!0,autoLoad:!0,moveAmount:1,fixedHeight:!1,infinite:!0,minWidth:2e3}}),Panel=function(Widget$$1){function Panel(options){Widget$$1.call(this),this.loading=!1,this.feed=null,this.$container=null,this.$feed=null,this.posts=[],this.init(options,ConfigPanel)&&(Logger.log("Panel->init with options:"),Logger.log(this.options),this.allLoaded=!1,this.$feed=z$1('<div class="crt-feed"></div>').appendTo(this.$container),this.$container.addClass("crt-widget-carousel"),this.$container.addClass("crt-widget-panel"),this.options.panel.fixedHeight&&this.$container.addClass("crt-panel-fixed-height"),this.carousel=new LayoutCarousel(this.$feed,this.options.panel),this.carousel.on(Events.CAROUSEL_CHANGED,this.onCarouselChange.bind(this)),this.loadPosts(0))}return Widget$$1&&(Panel.__proto__=Widget$$1),Panel.prototype=Object.create(Widget$$1&&Widget$$1.prototype),Panel.prototype.constructor=Panel,Panel.prototype.loadMorePosts=function(){Logger.log("Panel->loadMorePosts"),this.feed.loadPosts(this.feed.currentPage+1)},Panel.prototype.onPostsLoaded=function(event,posts){if(Logger.log("Panel->onPostsLoaded"),this.loading=!1,0===posts.length)this.allLoaded=!0;else{var that=this,$els=[];z$1(posts).each(function(){var p=that.createPostElement(this);$els.push(p.$el)}),this.carousel.add($els),this.carousel.update(),this.popupManager.setPosts(posts)}},Panel.prototype.onPostImageLoaded=function(){this.carousel.updateHeight()},Panel.prototype.onCarouselChange=function(event,currentSlide){this.options&&this.options.panel.autoLoad&&currentSlide>=this.feed.postsLoaded-4&&this.loadMorePosts()},Panel.prototype.destroy=function(){Widget$$1.prototype.destroy.call(this),this.feed.destroy(),this.carousel.off(Events.CAROUSEL_CHANGED,this.onCarouselChange.bind(this)),this.carousel.destroy(),this.$feed.remove(),this.$container.removeClass("crt-panel"),this.$container.removeClass("crt-widget-panel"),this.$container.removeClass("crt-carousel"),this.$container.removeClass("crt-widget-carousel"),delete this.$feed,delete this.$container,delete this.options,delete this.feed.postsLoaded,delete this.loading,delete this.allLoaded,delete this.feed},Panel}(Widget),findContainer=function(config){var container=z$1('[data-crt-feed-id="'+config.feedId+'"]');return container.length>0?container.get(0):(container=z$1(".crt-feed-"+config.feedId),container.length>0?container.get(0):(container=z$1("#curator-"+config.feedId),container.length>0?container.get(0):(container=z$1(config.container),container.length?container.get(0):!1)))},loadWidget=function(config){"function"==typeof window.onCuratorBeforeBootstrap&&window.onCuratorBeforeBootstrap(),window.jQuery&&window.jQuery(window).trigger("curatorCssLoaded");var container=findContainer(config);if(container){config.container=container;var ConstructorClass=Crt.Widgets[config.type];return new ConstructorClass(config)}return Logger.error("Curator - could not find container"),!1},Crt={loadWidget:loadWidget,loadCSS:function(){},z:z$1,_t:function(s,n,lang){return mod.t(s,n,lang)},Templates:Templates,Templating:Templating,EventBus:EventBus,Events:Events,Logger:Logger,Globals:Globals,Ui:{Post:Post},Widgets:{Waterfall:Waterfall,Grid:Grid,Carousel:Carousel,Panel:Panel,List:List},Utils:{Html:HtmlUtils,String:StringUtils}};return Crt}();return Curator});var invalidValueStr="INVALID_VALUE";$(document).ready(function(){function init(){enableMenuButton(),enableSocialLinks(),fixResizableHeights(),populateSignupBox(),pingFontUseageCounter()}function enableMenuButton(){var menuOverlaid=!1;$("#menu-button").click(function(){menuOverlaid?($("header>#logonav>nav").removeClass("popout"),$("body").removeClass("no-scroll")):($("header>#logonav>nav").addClass("popout"),$("body").addClass("no-scroll")),menuOverlaid=!menuOverlaid})}function enableSocialLinks(){$(".social.new-window a").click(function(event){var width=575,height=400,left=($(window).width()-width)/2,top=($(window).height()-height)/2,url=this.href,opts="status=1,width="+width+",height="+height+",top="+top+",left="+left;window.open(url,"social-share",opts),event.preventDefault()})}function fixResizableHeights(){$(window).width()<=639&&$("body>header").each(function(index,value){$(this).css("height",$(this).height()+"px")})}function populateSignupBox(){$(".subscribe-newsletter").focusin(function(){"your email"===$(this).val()&&prepForEmailEntry($(this))}),$(".subscribe-newsletter").focusout(function(){""===$(this).val()&&unprepForEmailEntry($(this))})}function prepForEmailEntry(el){el.val(""),el.removeClass("faded")}function unprepForEmailEntry(el){el.val("your email"),el.addClass("faded")}function pingFontUseageCounter(){var counterURL="https://hello.myfonts.net/count/398209";document.createStyleSheet?document.createStyleSheet(counterURL):$("head").append($('<link rel="stylesheet" href="'+counterURL+'" type="text/css" media="screen" />'))}init()}),$(document).ready(function(){function getChromeVersion(){var raw=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return raw?parseInt(raw[2],10):!1}function init(){"/"===window.location.pathname&&75!==getChromeVersion()&&showSocialFeed()}function showSocialFeed(){Curator.Templates["post-v2"]=extractTemplateHtml("#curator-feed");var widget=new Curator.Widgets.Waterfall({container:"#curator-feed",feedId:"d4196ede-5a4b-4aaa-a284-2c32e3cbd6df",postsPerPage:numPostsRequested});isDebug()&&widget.on(Curator.Events.FEED_LOADED,function(event,data){log("Curator",data)}),widget.on(Curator.Events.POSTS_RENDERED,function(){countSetupAttempts=0,setTimeout(setupSocialFeed,setupAttemptInterval)})}function setupSocialFeed(){countNumCompleteImages()===numPostsRequested?(removePostsWithImageProblems(),processPostTexts(),deduplicatePosts(),insertPostsDirectlyIntoListElement(),displaySocialWall(),reorderPostsOnColumnCountChange()):(countSetupAttempts++,maxSetupAttempts>countSetupAttempts&&setTimeout(setupSocialFeed,setupAttemptInterval))}function countNumCompleteImages(){var numComplete=0;return $("#curator-feed li figure>img").each(function(){$(this).get(0).complete&&numComplete++}),numComplete}function removePostsWithImageProblems(){$("#curator-feed li figure>img").each(function(){hasImageProblems($(this))&&$(this).closest("li").remove()})}function hasImageProblems(img){var hasProblems=!1;return""===img.attr("src")&&(hasProblems=!0),(img.get(0).naturalWidth<300||img.get(0).naturalHeight<220)&&(hasProblems=!0),hasProblems}function deduplicatePosts(){texts=[],$("#curator-feed li .post-text").each(function(){hasBeenSeenBefore($(this).text())&&$(this).closest("li").remove()})}function processPostTexts(){$("#curator-feed li .post-text").each(function(){var text=$(this).text();text=removeLinksFromPostText(text),text=generateTeaser(text,170),$(this).text(text)})}function removeLinksFromPostText(text){return text.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")}function hasBeenSeenBefore(text){var front=trim(text).slice(0,18),back=trim(text).slice(-18);return texts.includes(front)||texts.includes(back)?!0:(texts.push(front),texts.push(back),!1)}function insertPostsDirectlyIntoListElement(){var list=$("#curator-feed"),items=$("#curator-feed li");list.html(""),items.each(function(index,item){list.append(item)})}function reorderPostsOnColumnCountChange(){numCols=parseInt($("#curator-feed").css("column-count")),numCols!==prevNumCols&&(prevNumCols=numCols,reorderPosts(),postReorderingHasRunBefore||($(window).resize(reorderPostsOnColumnCountChange),postReorderingHasRunBefore=!0))}function reorderPosts(){var listItems=$("#curator-feed li");postReorderingHasRunBefore?sortByAttribute(listItems,"original-order"):assignOriginalOrderAttributes(listItems,"original-order"),assignReplacementOrderAttributes(listItems,"replacement-order"),sortByAttribute(listItems,"replacement-order")}function assignOriginalOrderAttributes(listItems,attrName){listItems.each(function(index){$(this).attr("data-"+attrName,index)})}function assignReplacementOrderAttributes(listItems,attrName){var columnStartIndices=getColumnStartIndices(),col=0,row=0;listItems.each(function(index){$(this).attr("data-"+attrName,columnStartIndices[col]+row),col++,col===numCols&&(col=0,row++)})}function sortByAttribute(listItems,sortBy){listItems.detach().sort(function(a,b){return parseInt($(a).attr("data-"+sortBy))-parseInt($(b).attr("data-"+sortBy))}),$("#curator-feed").append(listItems)}function getColumnStartIndices(){var columnStartIndices=[],lastColumnPosition=-1;return $("#curator-feed li").each(function(index){var currentColumnPosition=$(this).position().left;currentColumnPosition>lastColumnPosition&&(columnStartIndices.push(index),lastColumnPosition=currentColumnPosition)}),columnStartIndices}function displaySocialWall(){$("#curator-feed li").length>numPostsRequired&&$("#home .social").removeClass("hidden")}var texts,numCols,numPostsRequested=50,numPostsRequired=9,countSetupAttempts=20,maxSetupAttempts=30,setupAttemptInterval=250,postReorderingHasRunBefore=!1,prevNumCols=-1;init()}),"localhost"!==window.location.hostname&&(!function(i,s,o,g,r,a,m){i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=s.createElement(o),m=s.getElementsByTagName(o)[0],a.async=1,a.src=g,m.parentNode.insertBefore(a,m)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-79516906-1","auto"),ga("send","pageview"));